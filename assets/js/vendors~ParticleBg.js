(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~ParticleBg"],{

/***/ "../node_modules/react-particles-js/lib/particles.js":
/*!***********************************************************!*\
  !*** ../node_modules/react-particles-js/lib/particles.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("!function(e, t) {\n     true ? module.exports = t(__webpack_require__(/*! react */ \"../node_modules/react/index.js\")) : undefined;\n}(\"undefined\" != typeof self ? self : this, function(e) {\n    return function(e) {\n        function t(i) {\n            if (a[i]) return a[i].exports;\n            var r = a[i] = {\n                i: i,\n                l: !1,\n                exports: {}\n            };\n            return e[i].call(r.exports, r, r.exports, t), r.l = !0, r.exports;\n        }\n        var a = {};\n        return t.m = e, t.c = a, t.d = function(e, a, i) {\n            t.o(e, a) || Object.defineProperty(e, a, {\n                configurable: !1,\n                enumerable: !0,\n                get: i\n            });\n        }, t.n = function(e) {\n            var a = e && e.__esModule ? function() {\n                return e.default;\n            } : function() {\n                return e;\n            };\n            return t.d(a, \"a\", a), a;\n        }, t.o = function(e, t) {\n            return Object.prototype.hasOwnProperty.call(e, t);\n        }, t.p = \"\", t(t.s = 2);\n    }([ function(e, t, a) {\n        \"use strict\";\n        function i(e) {\n            for (var a in e) t.hasOwnProperty(a) || (t[a] = e[a]);\n        }\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var r = a(7);\n        t.Interact = r.default;\n        var n = a(8);\n        t.Modes = n.default;\n        var s = a(9);\n        t.Particle = s.default;\n        var o = a(10);\n        t.ParticleManager = o.default;\n        var c = a(11);\n        t.ParticlesLibrary = c.default;\n        var l = a(12);\n        t.Vendors = l.default, i(a(13)), i(a(14));\n    }, function(t, a) {\n        t.exports = e;\n    }, function(e, t, a) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var i = a(3);\n        t.Particles = i.default, t.default = i.default;\n    }, function(e, t, a) {\n        \"use strict\";\n        function i(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        function r(e, t) {\n            if (!e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n            return !t || \"object\" != typeof t && \"function\" != typeof t ? e : t;\n        }\n        function n(e, t) {\n            if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function, not \" + typeof t);\n            e.prototype = Object.create(t && t.prototype, {\n                constructor: {\n                    value: e,\n                    enumerable: !1,\n                    writable: !0,\n                    configurable: !0\n                }\n            }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);\n        }\n        var s = function() {\n            function e(e, t) {\n                for (var a = 0; a < t.length; a++) {\n                    var i = t[a];\n                    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \n                    Object.defineProperty(e, i.key, i);\n                }\n            }\n            return function(t, a, i) {\n                return a && e(t.prototype, a), i && e(t, i), t;\n            };\n        }(), o = function e(t, a, i) {\n            null === t && (t = Function.prototype);\n            var r = Object.getOwnPropertyDescriptor(t, a);\n            if (void 0 === r) {\n                var n = Object.getPrototypeOf(t);\n                return null === n ? void 0 : e(n, a, i);\n            }\n            if (\"value\" in r) return r.value;\n            var s = r.get;\n            if (void 0 !== s) return s.call(i);\n        };\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var c = a(1), l = a(1), u = a(4), p = a(0), h = function(e) {\n            function t(e) {\n                i(this, t);\n                var a = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));\n                return a.state = {\n                    canvas: void 0,\n                    library: void 0\n                }, a.loadCanvas = a.loadCanvas.bind(a), a;\n            }\n            return n(t, e), s(t, [ {\n                key: \"refresh\",\n                value: function(e) {\n                    var t = this;\n                    this.state.canvas && (this.destroy(), this.setState({\n                        library: new p.ParticlesLibrary(e.params)\n                    }, function() {\n                        t.loadCanvas(t.state.canvas);\n                    }));\n                }\n            }, {\n                key: \"destroy\",\n                value: function() {\n                    this.state.library.destroy();\n                }\n            }, {\n                key: \"loadCanvas\",\n                value: function(e) {\n                    var t = this;\n                    e && this.setState({\n                        canvas: e\n                    }, function() {\n                        t.state.library.loadCanvas(t.state.canvas), t.state.library.start();\n                    });\n                }\n            }, {\n                key: \"componentWillUpdate\",\n                value: function(e) {\n                    this.props !== e && this.refresh(e);\n                }\n            }, {\n                key: \"forceUpdate\",\n                value: function() {\n                    this.refresh(this.props), o(t.prototype.__proto__ || Object.getPrototypeOf(t.prototype), \"forceUpdate\", this).call(this);\n                }\n            }, {\n                key: \"componentWillMount\",\n                value: function() {\n                    this.setState({\n                        library: new p.ParticlesLibrary(this.props.params)\n                    });\n                }\n            }, {\n                key: \"componentWillUnmount\",\n                value: function() {\n                    this.destroy(), this.setState({\n                        library: void 0\n                    });\n                }\n            }, {\n                key: \"render\",\n                value: function() {\n                    var e = this.props, t = e.width, a = e.height, i = e.className, r = e.canvasClassName;\n                    return c.createElement(\"div\", {\n                        className: i\n                    }, c.createElement(\"canvas\", {\n                        ref: this.loadCanvas,\n                        className: r,\n                        style: p.deepExtend(u(this.props.style), {\n                            width: t,\n                            height: a\n                        })\n                    }));\n                }\n            } ]), t;\n        }(l.Component);\n        h.defaultProps = {\n            width: \"100%\",\n            height: \"100%\",\n            params: {},\n            style: {}\n        }, t.default = h;\n    }, function(e, t, a) {\n        (function(e, a) {\n            function i(e, t) {\n                return e.set(t[0], t[1]), e;\n            }\n            function r(e, t) {\n                return e.add(t), e;\n            }\n            function n(e, t) {\n                for (var a = -1, i = e ? e.length : 0; ++a < i && !1 !== t(e[a], a, e); ) ;\n                return e;\n            }\n            function s(e, t) {\n                for (var a = -1, i = t.length, r = e.length; ++a < i; ) e[r + a] = t[a];\n                return e;\n            }\n            function o(e, t, a, i) {\n                var r = -1, n = e ? e.length : 0;\n                for (i && n && (a = e[++r]); ++r < n; ) a = t(a, e[r], r, e);\n                return a;\n            }\n            function c(e, t) {\n                for (var a = -1, i = Array(e); ++a < e; ) i[a] = t(a);\n                return i;\n            }\n            function l(e, t) {\n                return null == e ? void 0 : e[t];\n            }\n            function u(e) {\n                var t = !1;\n                if (null != e && \"function\" != typeof e.toString) try {\n                    t = !!(e + \"\");\n                } catch (e) {}\n                return t;\n            }\n            function p(e) {\n                var t = -1, a = Array(e.size);\n                return e.forEach(function(e, i) {\n                    a[++t] = [ i, e ];\n                }), a;\n            }\n            function h(e, t) {\n                return function(a) {\n                    return e(t(a));\n                };\n            }\n            function v(e) {\n                var t = -1, a = Array(e.size);\n                return e.forEach(function(e) {\n                    a[++t] = e;\n                }), a;\n            }\n            function m(e) {\n                var t = -1, a = e ? e.length : 0;\n                for (this.clear(); ++t < a; ) {\n                    var i = e[t];\n                    this.set(i[0], i[1]);\n                }\n            }\n            function d() {\n                this.__data__ = Lt ? Lt(null) : {};\n            }\n            function y(e) {\n                return this.has(e) && delete this.__data__[e];\n            }\n            function f(e) {\n                var t = this.__data__;\n                if (Lt) {\n                    var a = t[e];\n                    return a === ze ? void 0 : a;\n                }\n                return ft.call(t, e) ? t[e] : void 0;\n            }\n            function b(e) {\n                var t = this.__data__;\n                return Lt ? void 0 !== t[e] : ft.call(t, e);\n            }\n            function _(e, t) {\n                return this.__data__[e] = Lt && void 0 === t ? ze : t, this;\n            }\n            function g(e) {\n                var t = -1, a = e ? e.length : 0;\n                for (this.clear(); ++t < a; ) {\n                    var i = e[t];\n                    this.set(i[0], i[1]);\n                }\n            }\n            function x() {\n                this.__data__ = [];\n            }\n            function w(e) {\n                var t = this.__data__, a = q(t, e);\n                return !(a < 0) && (a == t.length - 1 ? t.pop() : Mt.call(t, a, 1), !0);\n            }\n            function k(e) {\n                var t = this.__data__, a = q(t, e);\n                return a < 0 ? void 0 : t[a][1];\n            }\n            function j(e) {\n                return q(this.__data__, e) > -1;\n            }\n            function P(e, t) {\n                var a = this.__data__, i = q(a, e);\n                return i < 0 ? a.push([ e, t ]) : a[i][1] = t, this;\n            }\n            function M(e) {\n                var t = -1, a = e ? e.length : 0;\n                for (this.clear(); ++t < a; ) {\n                    var i = e[t];\n                    this.set(i[0], i[1]);\n                }\n            }\n            function O() {\n                this.__data__ = {\n                    hash: new m(),\n                    map: new (St || g)(),\n                    string: new m()\n                };\n            }\n            function A(e) {\n                return se(this, e).delete(e);\n            }\n            function z(e) {\n                return se(this, e).get(e);\n            }\n            function F(e) {\n                return se(this, e).has(e);\n            }\n            function S(e, t) {\n                return se(this, e).set(e, t), this;\n            }\n            function E(e) {\n                this.__data__ = new g(e);\n            }\n            function I() {\n                this.__data__ = new g();\n            }\n            function C(e) {\n                return this.__data__.delete(e);\n            }\n            function L(e) {\n                return this.__data__.get(e);\n            }\n            function T(e) {\n                return this.__data__.has(e);\n            }\n            function R(e, t) {\n                var a = this.__data__;\n                if (a instanceof g) {\n                    var i = a.__data__;\n                    if (!St || i.length < Ae - 1) return i.push([ e, t ]), this;\n                    a = this.__data__ = new M(i);\n                }\n                return a.set(e, t), this;\n            }\n            function D(e, t) {\n                var a = Nt(e) || be(e) ? c(e.length, String) : [], i = a.length, r = !!i;\n                for (var n in e) !t && !ft.call(e, n) || r && (\"length\" == n || pe(n, i)) || a.push(n);\n                return a;\n            }\n            function W(e, t, a) {\n                var i = e[t];\n                ft.call(e, t) && fe(i, a) && (void 0 !== a || t in e) || (e[t] = a);\n            }\n            function q(e, t) {\n                for (var a = e.length; a--; ) if (fe(e[a][0], t)) return a;\n                return -1;\n            }\n            function U(e, t) {\n                return e && ie(t, Pe(t), e);\n            }\n            function $(e, t, a, i, r, s, o) {\n                var c;\n                if (i && (c = s ? i(e, r, s, o) : i(e)), void 0 !== c) return c;\n                if (!ke(e)) return e;\n                var l = Nt(e);\n                if (l) {\n                    if (c = ce(e), !t) return ae(e, c);\n                } else {\n                    var p = Xt(e), h = p == Ce || p == Le;\n                    if (Yt(e)) return V(e, t);\n                    if (p == De || p == Se || h && !s) {\n                        if (u(e)) return s ? e : {};\n                        if (c = le(h ? {} : e), !t) return re(e, U(c, e));\n                    } else {\n                        if (!rt[p]) return s ? e : {};\n                        c = ue(e, p, $, t);\n                    }\n                }\n                o || (o = new E());\n                var v = o.get(e);\n                if (v) return v;\n                if (o.set(e, c), !l) var m = a ? ne(e) : Pe(e);\n                return n(m || e, function(r, n) {\n                    m && (n = r, r = e[n]), W(c, n, $(r, t, a, i, n, e, o));\n                }), c;\n            }\n            function B(e) {\n                return ke(e) ? jt(e) : {};\n            }\n            function X(e, t, a) {\n                var i = t(e);\n                return Nt(e) ? i : s(i, a(e));\n            }\n            function N(e) {\n                return bt.call(e);\n            }\n            function Y(e) {\n                return !(!ke(e) || ve(e)) && (xe(e) || u(e) ? _t : at).test(de(e));\n            }\n            function H(e) {\n                if (!me(e)) return zt(e);\n                var t = [];\n                for (var a in Object(e)) ft.call(e, a) && \"constructor\" != a && t.push(a);\n                return t;\n            }\n            function V(e, t) {\n                if (t) return e.slice();\n                var a = new e.constructor(e.length);\n                return e.copy(a), a;\n            }\n            function G(e) {\n                var t = new e.constructor(e.byteLength);\n                return new wt(t).set(new wt(e)), t;\n            }\n            function J(e, t) {\n                var a = t ? G(e.buffer) : e.buffer;\n                return new e.constructor(a, e.byteOffset, e.byteLength);\n            }\n            function K(e, t, a) {\n                return o(t ? a(p(e), !0) : p(e), i, new e.constructor());\n            }\n            function Q(e) {\n                var t = new e.constructor(e.source, tt.exec(e));\n                return t.lastIndex = e.lastIndex, t;\n            }\n            function Z(e, t, a) {\n                return o(t ? a(v(e), !0) : v(e), r, new e.constructor());\n            }\n            function ee(e) {\n                return $t ? Object($t.call(e)) : {};\n            }\n            function te(e, t) {\n                var a = t ? G(e.buffer) : e.buffer;\n                return new e.constructor(a, e.byteOffset, e.length);\n            }\n            function ae(e, t) {\n                var a = -1, i = e.length;\n                for (t || (t = Array(i)); ++a < i; ) t[a] = e[a];\n                return t;\n            }\n            function ie(e, t, a, i) {\n                a || (a = {});\n                for (var r = -1, n = t.length; ++r < n; ) {\n                    var s = t[r], o = i ? i(a[s], e[s], s, a, e) : void 0;\n                    W(a, s, void 0 === o ? e[s] : o);\n                }\n                return a;\n            }\n            function re(e, t) {\n                return ie(e, Bt(e), t);\n            }\n            function ne(e) {\n                return X(e, Pe, Bt);\n            }\n            function se(e, t) {\n                var a = e.__data__;\n                return he(t) ? a[\"string\" == typeof t ? \"string\" : \"hash\"] : a.map;\n            }\n            function oe(e, t) {\n                var a = l(e, t);\n                return Y(a) ? a : void 0;\n            }\n            function ce(e) {\n                var t = e.length, a = e.constructor(t);\n                return t && \"string\" == typeof e[0] && ft.call(e, \"index\") && (a.index = e.index, \n                a.input = e.input), a;\n            }\n            function le(e) {\n                return \"function\" != typeof e.constructor || me(e) ? {} : B(kt(e));\n            }\n            function ue(e, t, a, i) {\n                var r = e.constructor;\n                switch (t) {\n                  case Be:\n                    return G(e);\n\n                  case Ee:\n                  case Ie:\n                    return new r(+e);\n\n                  case Xe:\n                    return J(e, i);\n\n                  case Ne:\n                  case Ye:\n                  case He:\n                  case Ve:\n                  case Ge:\n                  case Je:\n                  case Ke:\n                  case Qe:\n                  case Ze:\n                    return te(e, i);\n\n                  case Te:\n                    return K(e, i, a);\n\n                  case Re:\n                  case Ue:\n                    return new r(e);\n\n                  case We:\n                    return Q(e);\n\n                  case qe:\n                    return Z(e, i, a);\n\n                  case $e:\n                    return ee(e);\n                }\n            }\n            function pe(e, t) {\n                return !!(t = null == t ? Fe : t) && (\"number\" == typeof e || it.test(e)) && e > -1 && e % 1 == 0 && e < t;\n            }\n            function he(e) {\n                var t = typeof e;\n                return \"string\" == t || \"number\" == t || \"symbol\" == t || \"boolean\" == t ? \"__proto__\" !== e : null === e;\n            }\n            function ve(e) {\n                return !!dt && dt in e;\n            }\n            function me(e) {\n                var t = e && e.constructor;\n                return e === (\"function\" == typeof t && t.prototype || vt);\n            }\n            function de(e) {\n                if (null != e) {\n                    try {\n                        return yt.call(e);\n                    } catch (e) {}\n                    try {\n                        return e + \"\";\n                    } catch (e) {}\n                }\n                return \"\";\n            }\n            function ye(e) {\n                return $(e, !0, !0);\n            }\n            function fe(e, t) {\n                return e === t || e !== e && t !== t;\n            }\n            function be(e) {\n                return ge(e) && ft.call(e, \"callee\") && (!Pt.call(e, \"callee\") || bt.call(e) == Se);\n            }\n            function _e(e) {\n                return null != e && we(e.length) && !xe(e);\n            }\n            function ge(e) {\n                return je(e) && _e(e);\n            }\n            function xe(e) {\n                var t = ke(e) ? bt.call(e) : \"\";\n                return t == Ce || t == Le;\n            }\n            function we(e) {\n                return \"number\" == typeof e && e > -1 && e % 1 == 0 && e <= Fe;\n            }\n            function ke(e) {\n                var t = typeof e;\n                return !!e && (\"object\" == t || \"function\" == t);\n            }\n            function je(e) {\n                return !!e && \"object\" == typeof e;\n            }\n            function Pe(e) {\n                return _e(e) ? D(e) : H(e);\n            }\n            function Me() {\n                return [];\n            }\n            function Oe() {\n                return !1;\n            }\n            var Ae = 200, ze = \"__lodash_hash_undefined__\", Fe = 9007199254740991, Se = \"[object Arguments]\", Ee = \"[object Boolean]\", Ie = \"[object Date]\", Ce = \"[object Function]\", Le = \"[object GeneratorFunction]\", Te = \"[object Map]\", Re = \"[object Number]\", De = \"[object Object]\", We = \"[object RegExp]\", qe = \"[object Set]\", Ue = \"[object String]\", $e = \"[object Symbol]\", Be = \"[object ArrayBuffer]\", Xe = \"[object DataView]\", Ne = \"[object Float32Array]\", Ye = \"[object Float64Array]\", He = \"[object Int8Array]\", Ve = \"[object Int16Array]\", Ge = \"[object Int32Array]\", Je = \"[object Uint8Array]\", Ke = \"[object Uint8ClampedArray]\", Qe = \"[object Uint16Array]\", Ze = \"[object Uint32Array]\", et = /[\\\\^$.*+?()[\\]{}|]/g, tt = /\\w*$/, at = /^\\[object .+?Constructor\\]$/, it = /^(?:0|[1-9]\\d*)$/, rt = {};\n            rt[Se] = rt[\"[object Array]\"] = rt[Be] = rt[Xe] = rt[Ee] = rt[Ie] = rt[Ne] = rt[Ye] = rt[He] = rt[Ve] = rt[Ge] = rt[Te] = rt[Re] = rt[De] = rt[We] = rt[qe] = rt[Ue] = rt[$e] = rt[Je] = rt[Ke] = rt[Qe] = rt[Ze] = !0, \n            rt[\"[object Error]\"] = rt[Ce] = rt[\"[object WeakMap]\"] = !1;\n            var nt = \"object\" == typeof e && e && e.Object === Object && e, st = \"object\" == typeof self && self && self.Object === Object && self, ot = nt || st || Function(\"return this\")(), ct = \"object\" == typeof t && t && !t.nodeType && t, lt = ct && \"object\" == typeof a && a && !a.nodeType && a, ut = lt && lt.exports === ct, pt = Array.prototype, ht = Function.prototype, vt = Object.prototype, mt = ot[\"__core-js_shared__\"], dt = function() {\n                var e = /[^.]+$/.exec(mt && mt.keys && mt.keys.IE_PROTO || \"\");\n                return e ? \"Symbol(src)_1.\" + e : \"\";\n            }(), yt = ht.toString, ft = vt.hasOwnProperty, bt = vt.toString, _t = RegExp(\"^\" + yt.call(ft).replace(et, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"), gt = ut ? ot.Buffer : void 0, xt = ot.Symbol, wt = ot.Uint8Array, kt = h(Object.getPrototypeOf, Object), jt = Object.create, Pt = vt.propertyIsEnumerable, Mt = pt.splice, Ot = Object.getOwnPropertySymbols, At = gt ? gt.isBuffer : void 0, zt = h(Object.keys, Object), Ft = oe(ot, \"DataView\"), St = oe(ot, \"Map\"), Et = oe(ot, \"Promise\"), It = oe(ot, \"Set\"), Ct = oe(ot, \"WeakMap\"), Lt = oe(Object, \"create\"), Tt = de(Ft), Rt = de(St), Dt = de(Et), Wt = de(It), qt = de(Ct), Ut = xt ? xt.prototype : void 0, $t = Ut ? Ut.valueOf : void 0;\n            m.prototype.clear = d, m.prototype.delete = y, m.prototype.get = f, m.prototype.has = b, \n            m.prototype.set = _, g.prototype.clear = x, g.prototype.delete = w, g.prototype.get = k, \n            g.prototype.has = j, g.prototype.set = P, M.prototype.clear = O, M.prototype.delete = A, \n            M.prototype.get = z, M.prototype.has = F, M.prototype.set = S, E.prototype.clear = I, \n            E.prototype.delete = C, E.prototype.get = L, E.prototype.has = T, E.prototype.set = R;\n            var Bt = Ot ? h(Ot, Object) : Me, Xt = N;\n            (Ft && Xt(new Ft(new ArrayBuffer(1))) != Xe || St && Xt(new St()) != Te || Et && \"[object Promise]\" != Xt(Et.resolve()) || It && Xt(new It()) != qe || Ct && \"[object WeakMap]\" != Xt(new Ct())) && (Xt = function(e) {\n                var t = bt.call(e), a = t == De ? e.constructor : void 0, i = a ? de(a) : void 0;\n                if (i) switch (i) {\n                  case Tt:\n                    return Xe;\n\n                  case Rt:\n                    return Te;\n\n                  case Dt:\n                    return \"[object Promise]\";\n\n                  case Wt:\n                    return qe;\n\n                  case qt:\n                    return \"[object WeakMap]\";\n                }\n                return t;\n            });\n            var Nt = Array.isArray, Yt = At || Oe;\n            a.exports = ye;\n        }).call(t, a(5), a(6)(e));\n    }, function(e, t) {\n        var a;\n        a = function() {\n            return this;\n        }();\n        try {\n            a = a || Function(\"return this\")() || (0, eval)(\"this\");\n        } catch (e) {\n            \"object\" == typeof window && (a = window);\n        }\n        e.exports = a;\n    }, function(e, t) {\n        e.exports = function(e) {\n            return e.webpackPolyfill || (e.deprecate = function() {}, e.paths = [], e.children || (e.children = []), \n            Object.defineProperty(e, \"loaded\", {\n                enumerable: !0,\n                get: function() {\n                    return e.l;\n                }\n            }), Object.defineProperty(e, \"id\", {\n                enumerable: !0,\n                get: function() {\n                    return e.i;\n                }\n            }), e.webpackPolyfill = 1), e;\n        };\n    }, function(e, t, a) {\n        \"use strict\";\n        function i(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var r = function() {\n            function e(e, t) {\n                for (var a = 0; a < t.length; a++) {\n                    var i = t[a];\n                    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \n                    Object.defineProperty(e, i.key, i);\n                }\n            }\n            return function(t, a, i) {\n                return a && e(t.prototype, a), i && e(t, i), t;\n            };\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var n = function() {\n            function e(t, a) {\n                i(this, e), this.params = t, this.library = a;\n            }\n            return r(e, [ {\n                key: \"linkParticles\",\n                value: function(e, t) {\n                    var a = e.x - t.x, i = e.y - t.y, r = Math.sqrt(a * a + i * i), n = this.library.canvas, s = this.params.particles.line_linked;\n                    if (r <= this.params.particles.line_linked.distance) {\n                        var o = this.params.particles.line_linked.opacity - r / (1 / this.params.particles.line_linked.opacity) / this.params.particles.line_linked.distance;\n                        if (o > 0) {\n                            var c = this.params.particles.line_linked.color_rgb_line, l = c.r, u = c.g, p = c.b;\n                            n.ctx.save(), n.ctx.strokeStyle = \"rgba( \" + l + \", \" + u + \", \" + p + \", \" + o + \" )\", \n                            n.ctx.lineWidth = this.params.particles.line_linked.width, n.ctx.beginPath(), s.shadow.enable && (n.ctx.shadowBlur = s.shadow.blur, \n                            n.ctx.shadowColor = s.shadow.color), n.ctx.moveTo(e.x, e.y), n.ctx.lineTo(t.x, t.y), \n                            n.ctx.stroke(), n.ctx.closePath(), n.ctx.restore();\n                        }\n                    }\n                }\n            }, {\n                key: \"attractParticles\",\n                value: function(e, t) {\n                    var a = e.x - t.x, i = e.y - t.y;\n                    if (Math.sqrt(a * a + i * i) <= this.params.particles.line_linked.distance) {\n                        var r = a / (1e3 * this.params.particles.move.attract.rotateX), n = i / (1e3 * this.params.particles.move.attract.rotateY);\n                        e.vx -= r, e.vy -= n, t.vx += r, t.vy += n;\n                    }\n                }\n            }, {\n                key: \"bounceParticles\",\n                value: function(e, t) {\n                    var a = e.x - t.x, i = e.y - t.y;\n                    Math.sqrt(a * a + i * i) <= e.radius + t.radius && (e.vx = -e.vx, e.vy = -e.vy, \n                    t.vx = -t.vx, t.vy = -t.vy);\n                }\n            } ]), e;\n        }();\n        t.default = n;\n    }, function(e, t, a) {\n        \"use strict\";\n        function i(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var r = function() {\n            function e(e, t) {\n                for (var a = 0; a < t.length; a++) {\n                    var i = t[a];\n                    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \n                    Object.defineProperty(e, i.key, i);\n                }\n            }\n            return function(t, a, i) {\n                return a && e(t.prototype, a), i && e(t, i), t;\n            };\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var n = a(0), s = function() {\n            function e(t, a) {\n                i(this, e), this.params = t, this.library = a;\n            }\n            return r(e, [ {\n                key: \"pushParticles\",\n                value: function(e, t) {\n                    var a = this.library, i = a.canvas, r = a.tmp, s = a.manager;\n                    r.pushing = !0;\n                    for (var o = 0; o < e; o++) this.params.particles.array.push(new n.Particle(this.params, this.library, this.params.particles.color, this.params.particles.opacity.value, {\n                        x: t ? t.pos_x : Math.random() * i.width,\n                        y: t ? t.pos_y : Math.random() * i.height\n                    })), o == e - 1 && (this.params.particles.move.enable || s.particlesDraw(), r.pushing = !1);\n                }\n            }, {\n                key: \"removeParticles\",\n                value: function(e) {\n                    var t = this.library.manager;\n                    this.params.particles.array.splice(0, e), this.params.particles.move.enable || t.particlesDraw();\n                }\n            }, {\n                key: \"bubbleParticle\",\n                value: function(e) {\n                    var t = this, a = this.library.tmp;\n                    if (this.params.interactivity.events.onhover.enable && n.isInArray(\"bubble\", this.params.interactivity.events.onhover.mode)) {\n                        var i = e.x - this.params.interactivity.mouse.pos_x, r = e.y - this.params.interactivity.mouse.pos_y, s = Math.sqrt(i * i + r * r), o = 1 - s / this.params.interactivity.modes.bubble.distance, c = function() {\n                            e.opacity_bubble = e.opacity, e.radius_bubble = e.radius;\n                        };\n                        if (s <= this.params.interactivity.modes.bubble.distance) {\n                            if (o >= 0 && \"mousemove\" == this.params.interactivity.status) {\n                                if (this.params.interactivity.modes.bubble.size != this.params.particles.size.value) if (this.params.interactivity.modes.bubble.size > this.params.particles.size.value) {\n                                    var l = e.radius + this.params.interactivity.modes.bubble.size * o;\n                                    l >= 0 && (e.radius_bubble = l);\n                                } else {\n                                    var u = e.radius - this.params.interactivity.modes.bubble.size, p = e.radius - u * o;\n                                    e.radius_bubble = p > 0 ? p : 0;\n                                }\n                                if (this.params.interactivity.modes.bubble.opacity != this.params.particles.opacity.value) if (this.params.interactivity.modes.bubble.opacity > this.params.particles.opacity.value) {\n                                    var h = this.params.interactivity.modes.bubble.opacity * o;\n                                    h > e.opacity && h <= this.params.interactivity.modes.bubble.opacity && (e.opacity_bubble = h);\n                                } else {\n                                    var v = e.opacity - (this.params.particles.opacity.value - this.params.interactivity.modes.bubble.opacity) * o;\n                                    v < e.opacity && v >= this.params.interactivity.modes.bubble.opacity && (e.opacity_bubble = v);\n                                }\n                            }\n                        } else c();\n                        \"mouseleave\" == this.params.interactivity.status && c();\n                    } else if (this.params.interactivity.events.onclick.enable && n.isInArray(\"bubble\", this.params.interactivity.events.onclick.mode) && a.bubble_clicking) {\n                        var m = e.x - this.params.interactivity.mouse.click_pos_x, d = e.y - this.params.interactivity.mouse.click_pos_y, y = Math.sqrt(m * m + d * d), f = (new Date().getTime() - this.params.interactivity.mouse.click_time) / 1e3;\n                        f > this.params.interactivity.modes.bubble.duration && (a.bubble_duration_end = !0), \n                        f > 2 * this.params.interactivity.modes.bubble.duration && (a.bubble_clicking = !1, \n                        a.bubble_duration_end = !1);\n                        var b = function(i, r, n, s, o) {\n                            if (i != r) if (a.bubble_duration_end) {\n                                if (void 0 != n) {\n                                    var c = s - f * (s - i) / t.params.interactivity.modes.bubble.duration, l = i - c, u = i + l;\n                                    \"size\" == o && (e.radius_bubble = u), \"opacity\" == o && (e.opacity_bubble = u);\n                                }\n                            } else if (y <= t.params.interactivity.modes.bubble.distance) {\n                                if ((void 0 != n ? n : s) != i) {\n                                    var p = s - f * (s - i) / t.params.interactivity.modes.bubble.duration;\n                                    \"size\" == o && (e.radius_bubble = p), \"opacity\" == o && (e.opacity_bubble = p);\n                                }\n                            } else \"size\" == o && (e.radius_bubble = void 0), \"opacity\" == o && (e.opacity_bubble = void 0);\n                        };\n                        a.bubble_clicking && (b(this.params.interactivity.modes.bubble.size, this.params.particles.size.value, e.radius_bubble, e.radius, \"size\"), \n                        b(this.params.interactivity.modes.bubble.opacity, this.params.particles.opacity.value, e.opacity_bubble, e.opacity, \"opacity\"));\n                    }\n                }\n            }, {\n                key: \"repulseParticle\",\n                value: function(e) {\n                    var t = this, a = this.library, i = a.canvas, r = a.tmp;\n                    if (this.params.interactivity.events.onhover.enable && n.isInArray(\"repulse\", this.params.interactivity.events.onhover.mode) && \"mousemove\" == this.params.interactivity.status) {\n                        var s = e.x - this.params.interactivity.mouse.pos_x, o = e.y - this.params.interactivity.mouse.pos_y, c = Math.sqrt(s * s + o * o), l = {\n                            x: s / c,\n                            y: o / c\n                        }, u = this.params.interactivity.modes.repulse.distance, p = n.clamp(1 / u * (-1 * Math.pow(c / u, 2) + 1) * u * 100, 0, 50), h = {\n                            x: e.x + l.x * p,\n                            y: e.y + l.y * p\n                        };\n                        \"bounce\" == this.params.particles.move.out_mode ? (h.x - e.radius > 0 && h.x + e.radius < i.width && (e.x = h.x), \n                        h.y - e.radius > 0 && h.y + e.radius < i.height && (e.y = h.y)) : (e.x = h.x, e.y = h.y);\n                    } else if (this.params.interactivity.events.onclick.enable && n.isInArray(\"repulse\", this.params.interactivity.events.onclick.mode)) if (r.repulse_finish || ++r.repulse_count == this.params.particles.array.length && (r.repulse_finish = !0), \n                    r.repulse_clicking) {\n                        var v = Math.pow(this.params.interactivity.modes.repulse.distance / 6, 3), m = this.params.interactivity.mouse.click_pos_x - e.x, d = this.params.interactivity.mouse.click_pos_y - e.y, y = m * m + d * d, f = -v / y * 1;\n                        y <= v && function() {\n                            var a = Math.atan2(d, m);\n                            if (e.vx = f * Math.cos(a), e.vy = f * Math.sin(a), \"bounce\" == t.params.particles.move.out_mode) {\n                                var r = {\n                                    x: e.x + e.vx,\n                                    y: e.y + e.vy\n                                };\n                                r.x + e.radius > i.width ? e.vx = -e.vx : r.x - e.radius < 0 && (e.vx = -e.vx), \n                                r.y + e.radius > i.height ? e.vy = -e.vy : r.y - e.radius < 0 && (e.vy = -e.vy);\n                            }\n                        }();\n                    } else 0 == r.repulse_clicking && (e.vx = e.vx_i, e.vy = e.vy_i);\n                }\n            }, {\n                key: \"grabParticle\",\n                value: function(e) {\n                    var t = this.library.canvas, a = this.params, i = a.interactivity, r = a.particles;\n                    if (i.events.onhover.enable && \"mousemove\" == i.status) {\n                        var n = e.x - i.mouse.pos_x, s = e.y - i.mouse.pos_y, o = Math.sqrt(n * n + s * s);\n                        if (o <= i.modes.grab.distance) {\n                            var c = i.modes.grab, l = c.line_linked.opacity - o / (1 / c.line_linked.opacity) / c.distance;\n                            if (l > 0) {\n                                var u = r.line_linked.color_rgb_line, p = u.r, h = u.g, v = u.b;\n                                t.ctx.strokeStyle = \"rgba( \" + p + \", \" + h + \", \" + v + \", \" + l + \" )\", t.ctx.lineWidth = r.line_linked.width, \n                                t.ctx.beginPath(), t.ctx.moveTo(e.x, e.y), t.ctx.lineTo(i.mouse.pos_x, i.mouse.pos_y), \n                                t.ctx.stroke(), t.ctx.closePath();\n                            }\n                        }\n                    }\n                }\n            } ]), e;\n        }();\n        t.default = s;\n    }, function(e, t, a) {\n        \"use strict\";\n        function i(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var r = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n            return typeof e;\n        } : function(e) {\n            return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        }, n = function() {\n            function e(e, t) {\n                for (var a = 0; a < t.length; a++) {\n                    var i = t[a];\n                    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \n                    Object.defineProperty(e, i.key, i);\n                }\n            }\n            return function(t, a, i) {\n                return a && e(t.prototype, a), i && e(t, i), t;\n            };\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var s = a(0), o = function() {\n            function e(t, a, r, n, s) {\n                i(this, e), this.params = t, this.library = a, this.setupSize(), this.setupPosition(s), \n                this.setupColor(r), this.setupOpacity(), this.setupAnimation();\n            }\n            return n(e, [ {\n                key: \"setupSize\",\n                value: function() {\n                    this.radius = (this.params.particles.size.random ? Math.random() : 1) * this.params.particles.size.value, \n                    this.params.particles.size.anim.enable && (this.size_status = !1, this.vs = this.params.particles.size.anim.speed / 100, \n                    this.params.particles.size.anim.sync || (this.vs = this.vs * Math.random()));\n                }\n            }, {\n                key: \"setupPosition\",\n                value: function(e) {\n                    var t = this.library, a = t.canvas, i = t.vendors;\n                    this.x = e ? e.x : Math.random() * a.width, this.y = e ? e.y : Math.random() * a.height, \n                    this.x > a.width - 2 * this.radius ? this.x = this.x - this.radius : this.x < 2 * this.radius && (this.x = this.x + this.radius), \n                    this.y > a.height - 2 * this.radius ? this.y = this.y - this.radius : this.y < 2 * this.radius && (this.y = this.y + this.radius), \n                    this.params.particles.move.bounce && i.checkOverlap(this, e);\n                }\n            }, {\n                key: \"setupColor\",\n                value: function(e) {\n                    this.color = s.getColor(e.value);\n                }\n            }, {\n                key: \"setupOpacity\",\n                value: function() {\n                    this.opacity = (this.params.particles.opacity.random ? Math.random() : 1) * this.params.particles.opacity.value, \n                    this.params.particles.opacity.anim.enable && (this.opacity_status = !1, this.vo = this.params.particles.opacity.anim.speed / 100, \n                    this.params.particles.opacity.anim.sync || (this.vo = this.vo * Math.random()));\n                }\n            }, {\n                key: \"setupAnimation\",\n                value: function() {\n                    var e = this.library, t = e.tmp, a = e.vendors, i = null;\n                    switch (this.params.particles.move.direction) {\n                      case \"top\":\n                        i = {\n                            x: 0,\n                            y: -1\n                        };\n                        break;\n\n                      case \"top-right\":\n                        i = {\n                            x: .5,\n                            y: -.5\n                        };\n                        break;\n\n                      case \"right\":\n                        i = {\n                            x: 1,\n                            y: 0\n                        };\n                        break;\n\n                      case \"bottom-right\":\n                        i = {\n                            x: .5,\n                            y: .5\n                        };\n                        break;\n\n                      case \"bottom\":\n                        i = {\n                            x: 0,\n                            y: 1\n                        };\n                        break;\n\n                      case \"bottom-left\":\n                        i = {\n                            x: -.5,\n                            y: 1\n                        };\n                        break;\n\n                      case \"left\":\n                        i = {\n                            x: -1,\n                            y: 0\n                        };\n                        break;\n\n                      case \"top-left\":\n                        i = {\n                            x: -.5,\n                            y: -.5\n                        };\n                        break;\n\n                      default:\n                        i = {\n                            x: 0,\n                            y: 0\n                        };\n                    }\n                    this.params.particles.move.straight ? (this.vx = i.x, this.vy = i.y, this.params.particles.move.random && (this.vx = this.vx * Math.random(), \n                    this.vy = this.vy * Math.random())) : (this.vx = i.x + Math.random() - .5, this.vy = i.y + Math.random() - .5), \n                    this.vx_i = this.vx, this.vy_i = this.vy;\n                    var n = this.params.particles.shape.type;\n                    if (\"object\" == (void 0 === n ? \"undefined\" : r(n))) {\n                        if (n instanceof Array) {\n                            var s = n[Math.floor(Math.random() * n.length)];\n                            this.shape = s;\n                        }\n                    } else this.shape = n;\n                    if (\"image\" == this.shape) {\n                        var o = this.params.particles.shape;\n                        this.img = {\n                            src: o.image.src,\n                            ratio: o.image.width / o.image.height\n                        }, this.img.ratio || (this.img.ratio = 1), \"svg\" == t.img_type && void 0 != o.image.data && (a.createSvgImg(this, o.image.data), \n                        t.pushing && (this.img.loaded = !1));\n                    }\n                    if (\"images\" == this.shape) {\n                        var c = this.params.particles.shape;\n                        t.img_index++;\n                        var l = c.images[t.img_index % c.images.length];\n                        this.img = {\n                            src: l.src,\n                            ratio: l.width / l.height\n                        }, this.img.ratio || (this.img.ratio = 1), \"svg\" == t.img_type && void 0 != l.data && (a.createSvgImg(this, l.data), \n                        t.pushing && (this.img.loaded = !1));\n                    }\n                }\n            }, {\n                key: \"draw\",\n                value: function() {\n                    var e = this, t = this.library, a = t.canvas, i = t.tmp, r = t.vendors, n = (this.params.particles, \n                    void 0);\n                    n = void 0 != this.radius_bubble ? this.radius_bubble : this.radius;\n                    var s = void 0;\n                    s = void 0 != this.opacity_bubble ? this.opacity_bubble : this.opacity;\n                    var o = void 0;\n                    if (this.color.rgb) {\n                        var c = this.color.rgb;\n                        o = \"rgba( \" + c.r + \", \" + c.g + \", \" + c.b + \", \" + s + \" )\";\n                    } else {\n                        var l = this.color.hsl;\n                        o = \"hsla( \" + l.h + \", \" + l.s + \", \" + l.l + \", \" + s + \" )\";\n                    }\n                    switch (a.ctx.fillStyle = o, a.ctx.beginPath(), this.shape) {\n                      case \"circle\":\n                        a.ctx.arc(this.x, this.y, n, 0, 2 * Math.PI, !1);\n                        break;\n\n                      case \"edge\":\n                        a.ctx.rect(this.x - n, this.y - n, 2 * n, 2 * n);\n                        break;\n\n                      case \"triangle\":\n                        r.drawShape(a.ctx, this.x - n, this.y + n / 1.66, 2 * n, 3, 2);\n                        break;\n\n                      case \"polygon\":\n                        r.drawShape(a.ctx, this.x - n / (this.params.particles.shape.polygon.nb_sides / 3.5), this.y - n / .76, 2.66 * n / (this.params.particles.shape.polygon.nb_sides / 3), this.params.particles.shape.polygon.nb_sides, 1);\n                        break;\n\n                      case \"star\":\n                        r.drawShape(a.ctx, this.x - 2 * n / (this.params.particles.shape.polygon.nb_sides / 4), this.y - n / 1.52, 2 * n * 2.66 / (this.params.particles.shape.polygon.nb_sides / 3), this.params.particles.shape.polygon.nb_sides, 2);\n                        break;\n\n                      case \"images\":\n                      case \"image\":\n                        var u = void 0;\n                        u = \"svg\" == i.img_type ? this.img.obj : i.img_obj, u && function(t) {\n                            a.ctx.drawImage(t, e.x - n, e.y - n, 2 * n, 2 * n / e.img.ratio);\n                        }(u);\n                    }\n                    a.ctx.closePath(), this.params.particles.shape.stroke.width > 0 && (a.ctx.strokeStyle = this.params.particles.shape.stroke.color, \n                    a.ctx.lineWidth = this.params.particles.shape.stroke.width, a.ctx.stroke()), a.ctx.fill();\n                }\n            } ]), e;\n        }();\n        t.default = o;\n    }, function(e, t, a) {\n        \"use strict\";\n        function i(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var r = function() {\n            function e(e, t) {\n                for (var a = 0; a < t.length; a++) {\n                    var i = t[a];\n                    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \n                    Object.defineProperty(e, i.key, i);\n                }\n            }\n            return function(t, a, i) {\n                return a && e(t.prototype, a), i && e(t, i), t;\n            };\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var n = a(0), s = function() {\n            function e(t, a, r, n, s) {\n                i(this, e), this.params = t, this.interact = a, this.modes = r, this.vendors = n, \n                this.library = s;\n            }\n            return r(e, [ {\n                key: \"particlesCreate\",\n                value: function() {\n                    for (var e = this.params.particles, t = e.color, a = e.opacity, i = 0; i < this.params.particles.number.value; i++) this.params.particles.array.push(new n.Particle(this.params, this.library, t, a.value));\n                }\n            }, {\n                key: \"particlesUpdate\",\n                value: function() {\n                    var e = this, t = this.library, a = t.canvas, i = t.interact, r = t.modes;\n                    this.params.particles.array.forEach(function(t, s) {\n                        if (e.params.particles.move.enable) {\n                            var o = e.params.particles.move.speed / 2;\n                            t.x += t.vx * o, t.y += t.vy * o;\n                        }\n                        e.params.particles.opacity.anim.enable && (1 == t.opacity_status ? (t.opacity >= e.params.particles.opacity.value && (t.opacity_status = !1), \n                        t.opacity += t.vo) : (t.opacity <= e.params.particles.opacity.anim.opacity_min && (t.opacity_status = !0), \n                        t.opacity -= t.vo), t.opacity < 0 && (t.opacity = 0)), e.params.particles.size.anim.enable && (1 == t.size_status ? (t.radius >= e.params.particles.size.value && (t.size_status = !1), \n                        t.radius += t.vs) : (t.radius <= e.params.particles.size.anim.size_min && (t.size_status = !0), \n                        t.radius -= t.vs), t.radius < 0 && (t.radius = 0));\n                        var c = void 0;\n                        switch (c = \"bounce\" == e.params.particles.move.out_mode ? {\n                            x_left: t.radius,\n                            x_right: a.width,\n                            y_top: t.radius,\n                            y_bottom: a.height\n                        } : {\n                            x_left: -t.radius,\n                            x_right: a.width + t.radius,\n                            y_top: -t.radius,\n                            y_bottom: a.height + t.radius\n                        }, t.x - t.radius > a.width ? (t.x = c.x_left, t.y = Math.random() * a.height) : t.x + t.radius < 0 && (t.x = c.x_right, \n                        t.y = Math.random() * a.height), t.y - t.radius > a.height ? (t.y = c.y_top, t.x = Math.random() * a.width) : t.y + t.radius < 0 && (t.y = c.y_bottom, \n                        t.x = Math.random() * a.width), e.params.particles.move.out_mode) {\n                          case \"bounce\":\n                            t.x + t.radius > a.width ? t.vx = -t.vx : t.x - t.radius < 0 && (t.vx = -t.vx), \n                            t.y + t.radius > a.height ? t.vy = -t.vy : t.y - t.radius < 0 && (t.vy = -t.vy);\n                        }\n                        if (n.isInArray(\"grab\", e.params.interactivity.events.onhover.mode) && r.grabParticle(t), \n                        (n.isInArray(\"bubble\", e.params.interactivity.events.onhover.mode) || n.isInArray(\"bubble\", e.params.interactivity.events.onclick.mode)) && r.bubbleParticle(t), \n                        (n.isInArray(\"repulse\", e.params.interactivity.events.onhover.mode) || n.isInArray(\"repulse\", e.params.interactivity.events.onclick.mode)) && r.repulseParticle(t), \n                        e.params.particles.line_linked.enable || e.params.particles.move.attract.enable) for (var l = s + 1; l < e.params.particles.array.length; l++) {\n                            var u = e.params.particles.array[l];\n                            e.params.particles.line_linked.enable && i.linkParticles(t, u), e.params.particles.move.attract.enable && i.attractParticles(t, u), \n                            e.params.particles.move.bounce && i.bounceParticles(t, u);\n                        }\n                    });\n                }\n            }, {\n                key: \"particlesDraw\",\n                value: function() {\n                    var e = this.library, t = e.canvas, a = e.manager;\n                    t.ctx.clearRect(0, 0, t.width, t.height), a.particlesUpdate(), this.params.particles.array.forEach(function(e) {\n                        e.draw();\n                    });\n                }\n            }, {\n                key: \"particlesEmpty\",\n                value: function() {\n                    this.params.particles.array = [];\n                }\n            }, {\n                key: \"particlesRefresh\",\n                value: function() {\n                    var e = this.library, t = e.tmp;\n                    e.vendors;\n                    cancelAnimationFrame(t.checkAnimFrame), cancelAnimationFrame(t.drawAnimFrame), t.img_obj = void 0, \n                    t.count_svg = 0, this.particlesEmpty(), this.library.canvasClear(), this.library.start();\n                }\n            } ]), e;\n        }();\n        t.default = s;\n    }, function(e, t, a) {\n        \"use strict\";\n        function i(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var r = function() {\n            function e(e, t) {\n                for (var a = 0; a < t.length; a++) {\n                    var i = t[a];\n                    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \n                    Object.defineProperty(e, i.key, i);\n                }\n            }\n            return function(t, a, i) {\n                return a && e(t.prototype, a), i && e(t, i), t;\n            };\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var n = a(0), s = function() {\n            function e(t) {\n                i(this, e), this.tmp = {}, this.tmp = {}, this.loadParameters(t), this.extendParams(), \n                this.interact = new n.Interact(this.params, this), this.modes = new n.Modes(this.params, this), \n                this.vendors = new n.Vendors(this.params, this), this.manager = new n.ParticleManager(this.params, this.interact, this.modes, this.vendors, this);\n            }\n            return r(e, [ {\n                key: \"loadParameters\",\n                value: function(e) {\n                    var t = n.getDefaultParams(), a = n.deepExtend(t, e);\n                    this.params = a;\n                }\n            }, {\n                key: \"loadCanvas\",\n                value: function(e) {\n                    this.canvas = {\n                        element: e,\n                        width: e.offsetWidth,\n                        height: e.offsetHeight\n                    };\n                }\n            }, {\n                key: \"start\",\n                value: function() {\n                    var e = this.vendors;\n                    e.eventsListeners(), e.start();\n                }\n            }, {\n                key: \"destroy\",\n                value: function() {\n                    var e = this.tmp;\n                    this.detachListeners(), this.vendors.detachListeners(), cancelAnimationFrame(e.drawAnimFrame), \n                    this.canvasClear();\n                }\n            }, {\n                key: \"detachListeners\",\n                value: function() {\n                    window.removeEventListener(\"resize\", this.onWindowResize);\n                }\n            }, {\n                key: \"extendParams\",\n                value: function() {\n                    this.extendTmpDefinition(), this.onWindowResize = this.onWindowResize.bind(this);\n                }\n            }, {\n                key: \"extendTmpDefinition\",\n                value: function() {\n                    var e = this.tmp;\n                    e.obj = {\n                        size_value: this.params.particles.size.value,\n                        size_anim_speed: this.params.particles.size.anim.speed,\n                        move_speed: this.params.particles.move.speed,\n                        line_linked_distance: this.params.particles.line_linked.distance,\n                        line_linked_width: this.params.particles.line_linked.width,\n                        mode_grab_distance: this.params.interactivity.modes.grab.distance,\n                        mode_bubble_distance: this.params.interactivity.modes.bubble.distance,\n                        mode_bubble_size: this.params.interactivity.modes.bubble.size,\n                        mode_repulse_distance: this.params.interactivity.modes.repulse.distance\n                    }, e.count_svg = 0, e.img_index = 0;\n                }\n            }, {\n                key: \"retinaInit\",\n                value: function() {\n                    var e = this.canvas, t = this.tmp;\n                    this.params.retina_detect && window.devicePixelRatio > 1 ? (e.pxratio = window.devicePixelRatio, \n                    t.retina = !0, e.width = e.element.offsetWidth * e.pxratio, e.height = e.element.offsetHeight * e.pxratio, \n                    this.params.particles.size.value = t.obj.size_value * e.pxratio, this.params.particles.size.anim.speed = t.obj.size_anim_speed * e.pxratio, \n                    this.params.particles.move.speed = t.obj.move_speed * e.pxratio, this.params.particles.line_linked.distance = t.obj.line_linked_distance * e.pxratio, \n                    this.params.interactivity.modes.grab.distance = t.obj.mode_grab_distance * e.pxratio, \n                    this.params.interactivity.modes.bubble.distance = t.obj.mode_bubble_distance * e.pxratio, \n                    this.params.particles.line_linked.width = t.obj.line_linked_width * e.pxratio, this.params.interactivity.modes.bubble.size = t.obj.mode_bubble_size * e.pxratio, \n                    this.params.interactivity.modes.repulse.distance = t.obj.mode_repulse_distance * e.pxratio) : (e.pxratio = 1, \n                    t.retina = !1);\n                }\n            }, {\n                key: \"canvasInit\",\n                value: function() {\n                    var e = this.canvas;\n                    e.ctx = e.element.getContext(\"2d\");\n                }\n            }, {\n                key: \"canvasSize\",\n                value: function() {\n                    var e = this.canvas;\n                    e.element.width = e.width, e.element.height = e.height, this.params && this.params.interactivity.events.resize && window.addEventListener(\"resize\", this.onWindowResize);\n                }\n            }, {\n                key: \"canvasPaint\",\n                value: function() {\n                    var e = this.canvas;\n                    if (e && e.ctx) try {\n                        e.ctx.fillRect(0, 0, e.width, e.height);\n                    } catch (e) {\n                        console.warn(e);\n                    }\n                }\n            }, {\n                key: \"canvasClear\",\n                value: function() {\n                    var e = this.canvas;\n                    if (e && e.ctx) try {\n                        e.ctx.clearRect(0, 0, e.width, e.height);\n                    } catch (e) {\n                        console.warn(e);\n                    }\n                }\n            }, {\n                key: \"onWindowResize\",\n                value: function() {\n                    var e = this.canvas, t = this.manager, a = this.tmp, i = this.vendors;\n                    e.width = e.element.offsetWidth, e.height = e.element.offsetHeight, a.retina && (e.width *= e.pxratio, \n                    e.height *= e.pxratio), e.element.width = e.width, e.element.height = e.height, \n                    this.params.particles.move.enable || (t.particlesEmpty(), t.particlesCreate(), t.particlesDraw(), \n                    i.densityAutoParticles()), i.densityAutoParticles();\n                }\n            } ]), e;\n        }();\n        t.default = s;\n    }, function(e, t, a) {\n        \"use strict\";\n        function i(e, t) {\n            if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }\n        var r = function() {\n            function e(e, t) {\n                for (var a = 0; a < t.length; a++) {\n                    var i = t[a];\n                    i.enumerable = i.enumerable || !1, i.configurable = !0, \"value\" in i && (i.writable = !0), \n                    Object.defineProperty(e, i.key, i);\n                }\n            }\n            return function(t, a, i) {\n                return a && e(t.prototype, a), i && e(t, i), t;\n            };\n        }();\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        });\n        var n = a(0), s = function() {\n            function e(t, a) {\n                i(this, e), this.params = t, this.library = a, this.onMouseMove = this.onMouseMove.bind(this), \n                this.onMouseLeave = this.onMouseLeave.bind(this), this.onClick = this.onClick.bind(this);\n            }\n            return r(e, [ {\n                key: \"eventsListeners\",\n                value: function() {\n                    var e = this.params.interactivity, t = this.library.canvas;\n                    \"window\" == e.detect_on ? e.el = window : e.el = t.element, (e.events.onhover.enable || e.events.onclick.enable) && (e.el.addEventListener(\"mousemove\", this.onMouseMove), \n                    e.el.addEventListener(\"mouseleave\", this.onMouseLeave)), e.events.onclick.enable && e.el.addEventListener(\"click\", this.onClick);\n                }\n            }, {\n                key: \"detachListeners\",\n                value: function() {\n                    var e = this.params.interactivity, t = this.library.tmp;\n                    e.el && ((e.events.onhover.enable || e.events.onclick.enable) && (e.el.removeEventListener(\"mousemove\", this.onMouseMove), \n                    e.el.addEventListener(\"mouseleave\", this.onMouseLeave)), e.events.onclick.enable && e.el.addEventListener(\"click\", this.onClick)), \n                    window.cancelAnimationFrame(t.drawAnimFrame);\n                }\n            }, {\n                key: \"onMouseMove\",\n                value: function(e) {\n                    var t = this.library, a = t.canvas, i = t.tmp, r = this.params.interactivity, n = void 0;\n                    n = r.el == window ? {\n                        x: e.clientX,\n                        y: e.clientY\n                    } : {\n                        x: e.offsetX || e.clientX,\n                        y: e.offsetY || e.clientY\n                    }, r.mouse.pos_x = n.x, r.mouse.pos_y = n.y, i.retina && (r.mouse.pos_x *= a.pxratio, \n                    r.mouse.pos_y *= a.pxratio), r.status = \"mousemove\";\n                }\n            }, {\n                key: \"onMouseLeave\",\n                value: function(e) {\n                    var t = this.params.interactivity;\n                    t.mouse.pos_x = null, t.mouse.pos_y = null, t.status = \"mouseleave\";\n                }\n            }, {\n                key: \"onClick\",\n                value: function() {\n                    var e = this.library, t = e.modes, a = e.tmp, i = this.params, r = i.interactivity, n = i.particles;\n                    if (r.mouse.click_pos_x = r.mouse.pos_x, r.mouse.click_pos_y = r.mouse.pos_y, r.mouse.click_time = new Date().getTime(), \n                    r.events.onclick.enable) switch (r.events.onclick.mode) {\n                      case \"push\":\n                        n.move.enable ? t.pushParticles(r.modes.push.particles_nb, r.mouse) : 1 == r.modes.push.particles_nb ? t.pushParticles(r.modes.push.particles_nb, r.mouse) : r.modes.push.particles_nb > 1 && t.pushParticles(r.modes.push.particles_nb);\n                        break;\n\n                      case \"remove\":\n                        t.removeParticles(r.modes.remove.particles_nb);\n                        break;\n\n                      case \"bubble\":\n                        a.bubble_clicking = !0;\n                        break;\n\n                      case \"repulse\":\n                        a.repulse_clicking = !0, a.repulse_count = 0, a.repulse_finish = !1, setTimeout(function() {\n                            a.repulse_clicking = !1;\n                        }, 1e3 * r.modes.repulse.duration);\n                    }\n                }\n            }, {\n                key: \"densityAutoParticles\",\n                value: function() {\n                    var e = this.library, t = e.canvas, a = e.modes, i = e.tmp, r = this.params.particles;\n                    if (r.number.density.enable) {\n                        var n = t.element.width * t.element.height / 1e3;\n                        i.retina && (n = n / t.pxratio * 2);\n                        var s = n * r.number.value / r.number.density.value_area, o = r.array.length - s;\n                        o < 0 ? a.pushParticles(Math.abs(o)) : a.removeParticles(o);\n                    }\n                }\n            }, {\n                key: \"checkOverlap\",\n                value: function(e, t) {\n                    var a = this.library, i = a.canvas, r = a.vendors;\n                    this.params.particles.array.forEach(function(a) {\n                        var n = a, s = e.x - n.x, o = e.y - n.y;\n                        Math.sqrt(s * s + o * o) <= e.radius + n.radius && (e.x = t ? t.x : Math.random() * i.width, \n                        e.y = t ? t.y : Math.random() * i.height, r.checkOverlap(e));\n                    });\n                }\n            }, {\n                key: \"createSvgImg\",\n                value: function(e, t) {\n                    var a = this.library.tmp, i = /#([0-9A-F]{3,6})|rgb\\([0-9,]+\\)/gi, r = t.replace(i, function(t, a, i, r) {\n                        var n = void 0;\n                        if (e.color.rgb) {\n                            var s = e.color.rgb;\n                            n = \"rgba( \" + s.r + \", \" + s.g + \", \" + s.b + \", \" + e.opacity + \" )\";\n                        } else {\n                            var o = e.color.hsl;\n                            n = \"rgba( \" + o.h + \", \" + o.s + \", \" + o.l + \", \" + e.opacity + \" )\";\n                        }\n                        return n;\n                    }), n = new Blob([ r ], {\n                        type: \"image/svg+xml;charset=utf-8\"\n                    }), s = window.URL || window, o = s.createObjectURL(n), c = new Image();\n                    c.addEventListener(\"load\", function() {\n                        e.img.obj = c, e.img.loaded = !0, s.revokeObjectURL(o), a.count_svg++;\n                    }), c.src = o;\n                }\n            }, {\n                key: \"destroy\",\n                value: function() {\n                    var e = this.library, t = e.canvas, a = e.tmp;\n                    cancelAnimationFrame(a.drawAnimFrame), t.element.remove();\n                }\n            }, {\n                key: \"drawShape\",\n                value: function(e, t, a, i, r, n) {\n                    var s = r * n, o = r / n, c = 180 * (o - 2) / o, l = Math.PI - Math.PI * c / 180;\n                    e.save(), e.beginPath(), e.translate(t, a), e.moveTo(0, 0);\n                    for (var u = 0; u < s; u++) e.lineTo(i, 0), e.translate(i, 0), e.rotate(l);\n                    e.fill(), e.restore();\n                }\n            }, {\n                key: \"exportImg\",\n                value: function() {\n                    var e = this.library.canvas;\n                    window.open(e.element.toDataURL(\"image/png\"), \"_blank\");\n                }\n            }, {\n                key: \"loadImg\",\n                value: function(e, t) {\n                    var a = this.library, i = a.tmp, r = a.vendors;\n                    if (i.img_error = void 0, \"\" != t.src) if (\"svg\" == e) if (t.data) r.checkBeforeDraw(); else {\n                        var n = new XMLHttpRequest();\n                        n.open(\"GET\", t.src), n.onreadystatechange = function(e) {\n                            4 == n.readyState && (200 == n.status ? (t.data = e.currentTarget.response, r.checkBeforeDraw()) : (console.log(\"Error react-particles-js - image not found\"), \n                            i.img_error = !0));\n                        }, n.send();\n                    } else {\n                        var s = new Image();\n                        s.addEventListener(\"load\", function() {\n                            i.img_obj = s, r.checkBeforeDraw();\n                        }), s.src = t.src;\n                    } else console.log(\"Error react-particles-js - no image.src\"), i.img_error = !0;\n                }\n            }, {\n                key: \"draw\",\n                value: function() {\n                    var e = this.library, t = e.tmp, a = e.manager, i = e.vendors, r = this.params.particles;\n                    \"image\" == r.shape.type || \"images\" == r.shape.type ? \"svg\" == t.img_type ? t.count_svg >= r.number.value ? (a.particlesDraw(), \n                    r.move.enable ? t.drawAnimFrame = requestAnimationFrame(i.draw.bind(i)) : cancelAnimationFrame(t.drawAnimFrame)) : t.img_error || (t.drawAnimFrame = requestAnimationFrame(i.draw.bind(i))) : void 0 != t.img_obj ? (a.particlesDraw(), \n                    r.move.enable ? t.drawAnimFrame = requestAnimationFrame(i.draw.bind(i)) : cancelAnimationFrame(t.drawAnimFrame)) : t.img_error || (t.drawAnimFrame = requestAnimationFrame(i.draw.bind(i))) : (a.particlesDraw(), \n                    r.move.enable ? t.drawAnimFrame = requestAnimationFrame(i.draw.bind(i)) : cancelAnimationFrame(t.drawAnimFrame));\n                }\n            }, {\n                key: \"checkBeforeDraw\",\n                value: function() {\n                    var e = this.library, t = e.tmp, a = e.vendors, i = this.params.particles;\n                    \"image\" == i.shape.type || \"images\" == i.shape.type ? (cancelAnimationFrame(t.checkAnimFrame), \n                    t.img_error || (a.init(), a.draw())) : (a.init(), a.draw());\n                }\n            }, {\n                key: \"init\",\n                value: function() {\n                    var e = this.library, t = e.manager, a = e.vendors, i = this.params.particles;\n                    e.retinaInit(), e.canvasInit(), e.canvasSize(), t.particlesCreate(), a.densityAutoParticles(), \n                    i.line_linked.color_rgb_line = n.hexToRgb(i.line_linked.color);\n                }\n            }, {\n                key: \"start\",\n                value: function() {\n                    var e = this.library, t = e.tmp, a = e.vendors, i = this.params.particles;\n                    if (\"image\" == i.shape.type) {\n                        var r = void 0;\n                        (r = /^data:image\\/(\\w{3})\\+xml;base64,(.*)$/.exec(i.shape.image.src)) ? (t.img_type = r[1], \n                        i.shape.image.data = atob(r[2])) : (r = /^.*(\\w{3})$/.exec(i.shape.image.src)) && (t.img_type = r[1]), \n                        a.loadImg(t.img_type, i.shape.image);\n                    } else if (\"images\" == i.shape.type) {\n                        var n = !0, s = !1, o = void 0;\n                        try {\n                            for (var c, l = i.shape.images[Symbol.iterator](); !(n = (c = l.next()).done); n = !0) {\n                                var u = c.value, p = void 0;\n                                (p = /^data:image\\/(\\w{3})\\+xml;base64,(.*)$/.exec(u.src)) ? (t.img_type = p[1], \n                                u.data = atob(p[2])) : (p = /^.*(\\w{3})$/.exec(u.src)) && (t.img_type = p[1]), a.loadImg(t.img_type, u);\n                            }\n                        } catch (e) {\n                            s = !0, o = e;\n                        } finally {\n                            try {\n                                !n && l.return && l.return();\n                            } finally {\n                                if (s) throw o;\n                            }\n                        }\n                    } else a.checkBeforeDraw();\n                }\n            } ]), e;\n        }();\n        t.default = s;\n    }, function(e, t, a) {\n        \"use strict\";\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        }), t.getDefaultParams = function() {\n            return {\n                particles: {\n                    number: {\n                        value: 40,\n                        density: {\n                            enable: !1,\n                            value_area: 1200\n                        }\n                    },\n                    color: {\n                        value: \"#FFF\"\n                    },\n                    shape: {\n                        type: \"circle\",\n                        stroke: {\n                            width: 0,\n                            color: \"#000000\"\n                        },\n                        polygon: {\n                            nb_sides: 5\n                        },\n                        image: {\n                            src: \"\",\n                            data: null,\n                            width: 100,\n                            height: 100\n                        },\n                        images: []\n                    },\n                    opacity: {\n                        value: .5,\n                        random: !1,\n                        anim: {\n                            enable: !0,\n                            speed: 1,\n                            opacity_min: .1,\n                            sync: !1\n                        }\n                    },\n                    size: {\n                        value: 1,\n                        random: !1,\n                        anim: {\n                            enable: !1,\n                            speed: 40,\n                            size_min: 0,\n                            sync: !1\n                        }\n                    },\n                    line_linked: {\n                        enable: !0,\n                        distance: 150,\n                        color: \"#FFF\",\n                        opacity: .6,\n                        width: 1,\n                        shadow: {\n                            enable: !1,\n                            blur: 5,\n                            color: \"lime\"\n                        }\n                    },\n                    move: {\n                        enable: !0,\n                        speed: 3,\n                        direction: \"none\",\n                        random: !1,\n                        straight: !1,\n                        out_mode: \"bounce\",\n                        bounce: !0,\n                        attract: {\n                            enable: !1,\n                            rotateX: 3e3,\n                            rotateY: 3e3\n                        }\n                    },\n                    array: []\n                },\n                interactivity: {\n                    detect_on: \"canvas\",\n                    events: {\n                        onhover: {\n                            enable: !1,\n                            mode: \"grab\"\n                        },\n                        onclick: {\n                            enable: !1,\n                            mode: \"repulse\"\n                        },\n                        resize: !0\n                    },\n                    modes: {\n                        grab: {\n                            distance: 180,\n                            line_linked: {\n                                opacity: .35\n                            }\n                        },\n                        bubble: {\n                            distance: 200,\n                            size: 80,\n                            duration: .4\n                        },\n                        repulse: {\n                            distance: 100,\n                            duration: 5\n                        },\n                        push: {\n                            particles_nb: 4\n                        },\n                        remove: {\n                            particles_nb: 2\n                        }\n                    },\n                    mouse: {}\n                },\n                retina_detect: !0\n            };\n        };\n    }, function(e, t, a) {\n        \"use strict\";\n        var i = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(e) {\n            return typeof e;\n        } : function(e) {\n            return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n        };\n        Object.defineProperty(t, \"__esModule\", {\n            value: !0\n        }), t.hexToRgb = function(e) {\n            var t = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n            e = e.replace(t, function(e, t, a, i) {\n                return t + t + a + a + i + i;\n            });\n            var a = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e);\n            return a ? {\n                r: parseInt(a[1], 16),\n                g: parseInt(a[2], 16),\n                b: parseInt(a[3], 16)\n            } : null;\n        }, t.clamp = function(e, t, a) {\n            return Math.min(Math.max(e, t), a);\n        }, t.isInArray = function(e, t) {\n            return t.indexOf(e) > -1;\n        }, t.deepExtend = function(e, a) {\n            for (var i in a) a[i] && a[i].constructor && a[i].constructor === Object ? (e[i] = e[i] || {}, \n            t.deepExtend(e[i], a[i])) : e[i] = a[i];\n            return e;\n        }, t.getColor = function(e) {\n            var a = {};\n            if (\"object\" == (void 0 === e ? \"undefined\" : i(e))) if (e instanceof Array) {\n                var r = e[Math.floor(Math.random() * e.length)];\n                a.rgb = t.hexToRgb(r);\n            } else {\n                var n = e.r, s = e.g, o = e.b;\n                if (void 0 !== n && void 0 !== s && void 0 !== o) a.rgb = {\n                    r: n,\n                    g: s,\n                    b: o\n                }; else {\n                    var c = e.h, l = e.s, u = e.l;\n                    void 0 !== c && void 0 !== s && void 0 !== o && (a.hsl = {\n                        h: c,\n                        s: l,\n                        l: u\n                    });\n                }\n            } else \"random\" == e ? a.rgb = {\n                r: Math.floor(255 * Math.random()) + 1,\n                g: Math.floor(255 * Math.random()) + 1,\n                b: Math.floor(255 * Math.random()) + 1\n            } : \"string\" == typeof e && (a.rgb = t.hexToRgb(e));\n            return a;\n        };\n    } ]);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vbm9kZV9tb2R1bGVzL3JlYWN0LXBhcnRpY2xlcy1qcy9saWIvcGFydGljbGVzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1wYXJ0aWNsZXMtanMvbGliL3BhcnRpY2xlcy5qcz80YzcwIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLCB0KSB7XG4gICAgXCJvYmplY3RcIiA9PSB0eXBlb2YgZXhwb3J0cyAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBtb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA9IHQocmVxdWlyZShcInJlYWN0XCIpKSA6IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZGVmaW5lICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWyBcInJlYWN0XCIgXSwgdCkgOiBcIm9iamVjdFwiID09IHR5cGVvZiBleHBvcnRzID8gZXhwb3J0cy5QYXJ0aWNsZXMgPSB0KHJlcXVpcmUoXCJyZWFjdFwiKSkgOiBlLlBhcnRpY2xlcyA9IHQoZS5SZWFjdCk7XG59KFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oZSkge1xuICAgIHJldHVybiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGZ1bmN0aW9uIHQoaSkge1xuICAgICAgICAgICAgaWYgKGFbaV0pIHJldHVybiBhW2ldLmV4cG9ydHM7XG4gICAgICAgICAgICB2YXIgciA9IGFbaV0gPSB7XG4gICAgICAgICAgICAgICAgaTogaSxcbiAgICAgICAgICAgICAgICBsOiAhMSxcbiAgICAgICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBlW2ldLmNhbGwoci5leHBvcnRzLCByLCByLmV4cG9ydHMsIHQpLCByLmwgPSAhMCwgci5leHBvcnRzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhID0ge307XG4gICAgICAgIHJldHVybiB0Lm0gPSBlLCB0LmMgPSBhLCB0LmQgPSBmdW5jdGlvbihlLCBhLCBpKSB7XG4gICAgICAgICAgICB0Lm8oZSwgYSkgfHwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIGEsIHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgICAgIGdldDogaVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHQubiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBhID0gZSAmJiBlLl9fZXNNb2R1bGUgPyBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5kZWZhdWx0O1xuICAgICAgICAgICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB0LmQoYSwgXCJhXCIsIGEpLCBhO1xuICAgICAgICB9LCB0Lm8gPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIHQpO1xuICAgICAgICB9LCB0LnAgPSBcIlwiLCB0KHQucyA9IDIpO1xuICAgIH0oWyBmdW5jdGlvbihlLCB0LCBhKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICBmdW5jdGlvbiBpKGUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGEgaW4gZSkgdC5oYXNPd25Qcm9wZXJ0eShhKSB8fCAodFthXSA9IGVbYV0pO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgciA9IGEoNyk7XG4gICAgICAgIHQuSW50ZXJhY3QgPSByLmRlZmF1bHQ7XG4gICAgICAgIHZhciBuID0gYSg4KTtcbiAgICAgICAgdC5Nb2RlcyA9IG4uZGVmYXVsdDtcbiAgICAgICAgdmFyIHMgPSBhKDkpO1xuICAgICAgICB0LlBhcnRpY2xlID0gcy5kZWZhdWx0O1xuICAgICAgICB2YXIgbyA9IGEoMTApO1xuICAgICAgICB0LlBhcnRpY2xlTWFuYWdlciA9IG8uZGVmYXVsdDtcbiAgICAgICAgdmFyIGMgPSBhKDExKTtcbiAgICAgICAgdC5QYXJ0aWNsZXNMaWJyYXJ5ID0gYy5kZWZhdWx0O1xuICAgICAgICB2YXIgbCA9IGEoMTIpO1xuICAgICAgICB0LlZlbmRvcnMgPSBsLmRlZmF1bHQsIGkoYSgxMykpLCBpKGEoMTQpKTtcbiAgICB9LCBmdW5jdGlvbih0LCBhKSB7XG4gICAgICAgIHQuZXhwb3J0cyA9IGU7XG4gICAgfSwgZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBpID0gYSgzKTtcbiAgICAgICAgdC5QYXJ0aWNsZXMgPSBpLmRlZmF1bHQsIHQuZGVmYXVsdCA9IGkuZGVmYXVsdDtcbiAgICB9LCBmdW5jdGlvbihlLCB0LCBhKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICBmdW5jdGlvbiBpKGUsIHQpIHtcbiAgICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiB0KSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiByKGUsIHQpIHtcbiAgICAgICAgICAgIGlmICghZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuICF0IHx8IFwib2JqZWN0XCIgIT0gdHlwZW9mIHQgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0ID8gZSA6IHQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbihlLCB0KSB7XG4gICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0ICYmIG51bGwgIT09IHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHQpO1xuICAgICAgICAgICAgZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHQgJiYgdC5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCB0ICYmIChPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YoZSwgdCkgOiBlLl9fcHJvdG9fXyA9IHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBlKGUsIHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IHQubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0W2FdO1xuICAgICAgICAgICAgICAgICAgICBpLmVudW1lcmFibGUgPSBpLmVudW1lcmFibGUgfHwgITEsIGkuY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBpICYmIChpLndyaXRhYmxlID0gITApLCBcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIGkua2V5LCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgYSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhICYmIGUodC5wcm90b3R5cGUsIGEpLCBpICYmIGUodCwgaSksIHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KCksIG8gPSBmdW5jdGlvbiBlKHQsIGEsIGkpIHtcbiAgICAgICAgICAgIG51bGwgPT09IHQgJiYgKHQgPSBGdW5jdGlvbi5wcm90b3R5cGUpO1xuICAgICAgICAgICAgdmFyIHIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIGEpO1xuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gcikge1xuICAgICAgICAgICAgICAgIHZhciBuID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsID09PSBuID8gdm9pZCAwIDogZShuLCBhLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChcInZhbHVlXCIgaW4gcikgcmV0dXJuIHIudmFsdWU7XG4gICAgICAgICAgICB2YXIgcyA9IHIuZ2V0O1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gcykgcmV0dXJuIHMuY2FsbChpKTtcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjID0gYSgxKSwgbCA9IGEoMSksIHUgPSBhKDQpLCBwID0gYSgwKSwgaCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHQoZSkge1xuICAgICAgICAgICAgICAgIGkodGhpcywgdCk7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSByKHRoaXMsICh0Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcywgZSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhLnN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXM6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgbGlicmFyeTogdm9pZCAwXG4gICAgICAgICAgICAgICAgfSwgYS5sb2FkQ2FudmFzID0gYS5sb2FkQ2FudmFzLmJpbmQoYSksIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbih0LCBlKSwgcyh0LCBbIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwicmVmcmVzaFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYW52YXMgJiYgKHRoaXMuZGVzdHJveSgpLCB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnJhcnk6IG5ldyBwLlBhcnRpY2xlc0xpYnJhcnkoZS5wYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5sb2FkQ2FudmFzKHQuc3RhdGUuY2FudmFzKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5saWJyYXJ5LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImxvYWRDYW52YXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIGUgJiYgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXM6IGVcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnN0YXRlLmxpYnJhcnkubG9hZENhbnZhcyh0LnN0YXRlLmNhbnZhcyksIHQuc3RhdGUubGlicmFyeS5zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxVcGRhdGVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzICE9PSBlICYmIHRoaXMucmVmcmVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImZvcmNlVXBkYXRlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2godGhpcy5wcm9wcyksIG8odC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksIFwiZm9yY2VVcGRhdGVcIiwgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxNb3VudFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5OiBuZXcgcC5QYXJ0aWNsZXNMaWJyYXJ5KHRoaXMucHJvcHMucGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3koKSwgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaWJyYXJ5OiB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5wcm9wcywgdCA9IGUud2lkdGgsIGEgPSBlLmhlaWdodCwgaSA9IGUuY2xhc3NOYW1lLCByID0gZS5jYW52YXNDbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBpXG4gICAgICAgICAgICAgICAgICAgIH0sIGMuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWY6IHRoaXMubG9hZENhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBwLmRlZXBFeHRlbmQodSh0aGlzLnByb3BzLnN0eWxlKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogYVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXSksIHQ7XG4gICAgICAgIH0obC5Db21wb25lbnQpO1xuICAgICAgICBoLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICAgICAgc3R5bGU6IHt9XG4gICAgICAgIH0sIHQuZGVmYXVsdCA9IGg7XG4gICAgfSwgZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICAoZnVuY3Rpb24oZSwgYSkge1xuICAgICAgICAgICAgZnVuY3Rpb24gaShlLCB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuc2V0KHRbMF0sIHRbMV0pLCBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcihlLCB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuYWRkKHQpLCBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbihlLCB0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IC0xLCBpID0gZSA/IGUubGVuZ3RoIDogMDsgKythIDwgaSAmJiAhMSAhPT0gdChlW2FdLCBhLCBlKTsgKSA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzKGUsIHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gLTEsIGkgPSB0Lmxlbmd0aCwgciA9IGUubGVuZ3RoOyArK2EgPCBpOyApIGVbciArIGFdID0gdFthXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIG8oZSwgdCwgYSwgaSkge1xuICAgICAgICAgICAgICAgIHZhciByID0gLTEsIG4gPSBlID8gZS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICAgIGZvciAoaSAmJiBuICYmIChhID0gZVsrK3JdKTsgKytyIDwgbjsgKSBhID0gdChhLCBlW3JdLCByLCBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGMoZSwgdCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAtMSwgaSA9IEFycmF5KGUpOyArK2EgPCBlOyApIGlbYV0gPSB0KGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbChlLCB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gZSA/IHZvaWQgMCA6IGVbdF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB1KGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9ICExO1xuICAgICAgICAgICAgICAgIGlmIChudWxsICE9IGUgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlLnRvU3RyaW5nKSB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0ID0gISEoZSArIFwiXCIpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBwKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IC0xLCBhID0gQXJyYXkoZS5zaXplKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgYVsrK3RdID0gWyBpLCBlIF07XG4gICAgICAgICAgICAgICAgfSksIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBoKGUsIHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZSh0KGEpKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gdihlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSAtMSwgYSA9IEFycmF5KGUuc2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFbKyt0XSA9IGU7XG4gICAgICAgICAgICAgICAgfSksIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBtKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IC0xLCBhID0gZSA/IGUubGVuZ3RoIDogMDtcbiAgICAgICAgICAgICAgICBmb3IgKHRoaXMuY2xlYXIoKTsgKyt0IDwgYTsgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gZVt0XTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoaVswXSwgaVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fZGF0YV9fID0gTHQgPyBMdChudWxsKSA6IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24geShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFzKGUpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZihlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLl9fZGF0YV9fO1xuICAgICAgICAgICAgICAgIGlmIChMdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHRbZV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhID09PSB6ZSA/IHZvaWQgMCA6IGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmdC5jYWxsKHQsIGUpID8gdFtlXSA6IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGIoZSkge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5fX2RhdGFfXztcbiAgICAgICAgICAgICAgICByZXR1cm4gTHQgPyB2b2lkIDAgIT09IHRbZV0gOiBmdC5jYWxsKHQsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gXyhlLCB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX19bZV0gPSBMdCAmJiB2b2lkIDAgPT09IHQgPyB6ZSA6IHQsIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBnKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IC0xLCBhID0gZSA/IGUubGVuZ3RoIDogMDtcbiAgICAgICAgICAgICAgICBmb3IgKHRoaXMuY2xlYXIoKTsgKyt0IDwgYTsgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gZVt0XTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXQoaVswXSwgaVsxXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24geCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB3KGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMuX19kYXRhX18sIGEgPSBxKHQsIGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhKGEgPCAwKSAmJiAoYSA9PSB0Lmxlbmd0aCAtIDEgPyB0LnBvcCgpIDogTXQuY2FsbCh0LCBhLCAxKSwgITApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gayhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLl9fZGF0YV9fLCBhID0gcSh0LCBlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYSA8IDAgPyB2b2lkIDAgOiB0W2FdWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gaihlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEodGhpcy5fX2RhdGFfXywgZSkgPiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIFAoZSwgdCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy5fX2RhdGFfXywgaSA9IHEoYSwgZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgPCAwID8gYS5wdXNoKFsgZSwgdCBdKSA6IGFbaV1bMV0gPSB0LCB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gTShlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSAtMSwgYSA9IGUgPyBlLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgICAgZm9yICh0aGlzLmNsZWFyKCk7ICsrdCA8IGE7ICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGVbdF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0KGlbMF0sIGlbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIE8oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGFzaDogbmV3IG0oKSxcbiAgICAgICAgICAgICAgICAgICAgbWFwOiBuZXcgKFN0IHx8IGcpKCksXG4gICAgICAgICAgICAgICAgICAgIHN0cmluZzogbmV3IG0oKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBBKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2UodGhpcywgZSkuZGVsZXRlKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24geihlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlKHRoaXMsIGUpLmdldChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEYoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZSh0aGlzLCBlKS5oYXMoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBTKGUsIHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2UodGhpcywgZSkuc2V0KGUsIHQpLCB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gRShlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBnKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gSSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IGcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEMoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmRlbGV0ZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEwoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIFQoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIFIoZSwgdCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgICAgICAgICAgICBpZiAoYSBpbnN0YW5jZW9mIGcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBhLl9fZGF0YV9fO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVN0IHx8IGkubGVuZ3RoIDwgQWUgLSAxKSByZXR1cm4gaS5wdXNoKFsgZSwgdCBdKSwgdGhpcztcbiAgICAgICAgICAgICAgICAgICAgYSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTShpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEuc2V0KGUsIHQpLCB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gRChlLCB0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBOdChlKSB8fCBiZShlKSA/IGMoZS5sZW5ndGgsIFN0cmluZykgOiBbXSwgaSA9IGEubGVuZ3RoLCByID0gISFpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG4gaW4gZSkgIXQgJiYgIWZ0LmNhbGwoZSwgbikgfHwgciAmJiAoXCJsZW5ndGhcIiA9PSBuIHx8IHBlKG4sIGkpKSB8fCBhLnB1c2gobik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBXKGUsIHQsIGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGVbdF07XG4gICAgICAgICAgICAgICAgZnQuY2FsbChlLCB0KSAmJiBmZShpLCBhKSAmJiAodm9pZCAwICE9PSBhIHx8IHQgaW4gZSkgfHwgKGVbdF0gPSBhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHEoZSwgdCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSBlLmxlbmd0aDsgYS0tOyApIGlmIChmZShlW2FdWzBdLCB0KSkgcmV0dXJuIGE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gVShlLCB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUgJiYgaWUodCwgUGUodCksIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gJChlLCB0LCBhLCBpLCByLCBzLCBvKSB7XG4gICAgICAgICAgICAgICAgdmFyIGM7XG4gICAgICAgICAgICAgICAgaWYgKGkgJiYgKGMgPSBzID8gaShlLCByLCBzLCBvKSA6IGkoZSkpLCB2b2lkIDAgIT09IGMpIHJldHVybiBjO1xuICAgICAgICAgICAgICAgIGlmICgha2UoZSkpIHJldHVybiBlO1xuICAgICAgICAgICAgICAgIHZhciBsID0gTnQoZSk7XG4gICAgICAgICAgICAgICAgaWYgKGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMgPSBjZShlKSwgIXQpIHJldHVybiBhZShlLCBjKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IFh0KGUpLCBoID0gcCA9PSBDZSB8fCBwID09IExlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoWXQoZSkpIHJldHVybiBWKGUsIHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocCA9PSBEZSB8fCBwID09IFNlIHx8IGggJiYgIXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1KGUpKSByZXR1cm4gcyA/IGUgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjID0gbGUoaCA/IHt9IDogZSksICF0KSByZXR1cm4gcmUoZSwgVShjLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJ0W3BdKSByZXR1cm4gcyA/IGUgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMgPSB1ZShlLCBwLCAkLCB0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvIHx8IChvID0gbmV3IEUoKSk7XG4gICAgICAgICAgICAgICAgdmFyIHYgPSBvLmdldChlKTtcbiAgICAgICAgICAgICAgICBpZiAodikgcmV0dXJuIHY7XG4gICAgICAgICAgICAgICAgaWYgKG8uc2V0KGUsIGMpLCAhbCkgdmFyIG0gPSBhID8gbmUoZSkgOiBQZShlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbihtIHx8IGUsIGZ1bmN0aW9uKHIsIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgbSAmJiAobiA9IHIsIHIgPSBlW25dKSwgVyhjLCBuLCAkKHIsIHQsIGEsIGksIG4sIGUsIG8pKTtcbiAgICAgICAgICAgICAgICB9KSwgYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEIoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBrZShlKSA/IGp0KGUpIDoge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBYKGUsIHQsIGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHQoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE50KGUpID8gaSA6IHMoaSwgYShlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBOKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnQuY2FsbChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIFkoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhKCFrZShlKSB8fCB2ZShlKSkgJiYgKHhlKGUpIHx8IHUoZSkgPyBfdCA6IGF0KS50ZXN0KGRlKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEgoZSkge1xuICAgICAgICAgICAgICAgIGlmICghbWUoZSkpIHJldHVybiB6dChlKTtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGEgaW4gT2JqZWN0KGUpKSBmdC5jYWxsKGUsIGEpICYmIFwiY29uc3RydWN0b3JcIiAhPSBhICYmIHQucHVzaChhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIFYoZSwgdCkge1xuICAgICAgICAgICAgICAgIGlmICh0KSByZXR1cm4gZS5zbGljZSgpO1xuICAgICAgICAgICAgICAgIHZhciBhID0gbmV3IGUuY29uc3RydWN0b3IoZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLmNvcHkoYSksIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IG5ldyBlLmNvbnN0cnVjdG9yKGUuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB3dCh0KS5zZXQobmV3IHd0KGUpKSwgdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEooZSwgdCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gdCA/IEcoZS5idWZmZXIpIDogZS5idWZmZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGEsIGUuYnl0ZU9mZnNldCwgZS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEsoZSwgdCwgYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvKHQgPyBhKHAoZSksICEwKSA6IHAoZSksIGksIG5ldyBlLmNvbnN0cnVjdG9yKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gUShlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBuZXcgZS5jb25zdHJ1Y3RvcihlLnNvdXJjZSwgdHQuZXhlYyhlKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQubGFzdEluZGV4ID0gZS5sYXN0SW5kZXgsIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBaKGUsIHQsIGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbyh0ID8gYSh2KGUpLCAhMCkgOiB2KGUpLCByLCBuZXcgZS5jb25zdHJ1Y3RvcigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGVlKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHQgPyBPYmplY3QoJHQuY2FsbChlKSkgOiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHRlKGUsIHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IHQgPyBHKGUuYnVmZmVyKSA6IGUuYnVmZmVyO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihhLCBlLmJ5dGVPZmZzZXQsIGUubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGFlKGUsIHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IC0xLCBpID0gZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yICh0IHx8ICh0ID0gQXJyYXkoaSkpOyArK2EgPCBpOyApIHRbYV0gPSBlW2FdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gaWUoZSwgdCwgYSwgaSkge1xuICAgICAgICAgICAgICAgIGEgfHwgKGEgPSB7fSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IC0xLCBuID0gdC5sZW5ndGg7ICsrciA8IG47ICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHRbcl0sIG8gPSBpID8gaShhW3NdLCBlW3NdLCBzLCBhLCBlKSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgVyhhLCBzLCB2b2lkIDAgPT09IG8gPyBlW3NdIDogbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcmUoZSwgdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZShlLCBCdChlKSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBuZShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFgoZSwgUGUsIEJ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNlKGUsIHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGUuX19kYXRhX187XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlKHQpID8gYVtcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gXCJzdHJpbmdcIiA6IFwiaGFzaFwiXSA6IGEubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gb2UoZSwgdCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gbChlLCB0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWShhKSA/IGEgOiB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBjZShlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBlLmxlbmd0aCwgYSA9IGUuY29uc3RydWN0b3IodCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZVswXSAmJiBmdC5jYWxsKGUsIFwiaW5kZXhcIikgJiYgKGEuaW5kZXggPSBlLmluZGV4LCBcbiAgICAgICAgICAgICAgICBhLmlucHV0ID0gZS5pbnB1dCksIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBsZShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZS5jb25zdHJ1Y3RvciB8fCBtZShlKSA/IHt9IDogQihrdChlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB1ZShlLCB0LCBhLCBpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSBlLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBCZTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEcoZSk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgRWU6XG4gICAgICAgICAgICAgICAgICBjYXNlIEllOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHIoK2UpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFhlOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSihlLCBpKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBOZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgWWU6XG4gICAgICAgICAgICAgICAgICBjYXNlIEhlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBWZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgR2U6XG4gICAgICAgICAgICAgICAgICBjYXNlIEplOlxuICAgICAgICAgICAgICAgICAgY2FzZSBLZTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgUWU6XG4gICAgICAgICAgICAgICAgICBjYXNlIFplOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGUoZSwgaSk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgVGU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBLKGUsIGksIGEpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFJlOlxuICAgICAgICAgICAgICAgICAgY2FzZSBVZTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyByKGUpO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFdlOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUShlKTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBxZTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFooZSwgaSwgYSk7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgJGU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlZShlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBwZShlLCB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHQgPSBudWxsID09IHQgPyBGZSA6IHQpICYmIChcIm51bWJlclwiID09IHR5cGVvZiBlIHx8IGl0LnRlc3QoZSkpICYmIGUgPiAtMSAmJiBlICUgMSA9PSAwICYmIGUgPCB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gaGUoZSkge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gdHlwZW9mIGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdCB8fCBcIm51bWJlclwiID09IHQgfHwgXCJzeW1ib2xcIiA9PSB0IHx8IFwiYm9vbGVhblwiID09IHQgPyBcIl9fcHJvdG9fX1wiICE9PSBlIDogbnVsbCA9PT0gZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHZlKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISFkdCAmJiBkdCBpbiBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gbWUoZSkge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gZSAmJiBlLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgICAgIHJldHVybiBlID09PSAoXCJmdW5jdGlvblwiID09IHR5cGVvZiB0ICYmIHQucHJvdG90eXBlIHx8IHZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geXQuY2FsbChlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlICsgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB5ZShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoZSwgITAsICEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZlKGUsIHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZSA9PT0gdCB8fCBlICE9PSBlICYmIHQgIT09IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBiZShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdlKGUpICYmIGZ0LmNhbGwoZSwgXCJjYWxsZWVcIikgJiYgKCFQdC5jYWxsKGUsIFwiY2FsbGVlXCIpIHx8IGJ0LmNhbGwoZSkgPT0gU2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gX2UoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsICE9IGUgJiYgd2UoZS5sZW5ndGgpICYmICF4ZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdlKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gamUoZSkgJiYgX2UoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB4ZShlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSBrZShlKSA/IGJ0LmNhbGwoZSkgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ID09IENlIHx8IHQgPT0gTGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB3ZShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibnVtYmVyXCIgPT0gdHlwZW9mIGUgJiYgZSA+IC0xICYmIGUgJSAxID09IDAgJiYgZSA8PSBGZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGtlKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IHR5cGVvZiBlO1xuICAgICAgICAgICAgICAgIHJldHVybiAhIWUgJiYgKFwib2JqZWN0XCIgPT0gdCB8fCBcImZ1bmN0aW9uXCIgPT0gdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBqZShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhZSAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gUGUoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZShlKSA/IEQoZSkgOiBIKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gTWUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gT2UoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIEFlID0gMjAwLCB6ZSA9IFwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiLCBGZSA9IDkwMDcxOTkyNTQ3NDA5OTEsIFNlID0gXCJbb2JqZWN0IEFyZ3VtZW50c11cIiwgRWUgPSBcIltvYmplY3QgQm9vbGVhbl1cIiwgSWUgPSBcIltvYmplY3QgRGF0ZV1cIiwgQ2UgPSBcIltvYmplY3QgRnVuY3Rpb25dXCIsIExlID0gXCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLCBUZSA9IFwiW29iamVjdCBNYXBdXCIsIFJlID0gXCJbb2JqZWN0IE51bWJlcl1cIiwgRGUgPSBcIltvYmplY3QgT2JqZWN0XVwiLCBXZSA9IFwiW29iamVjdCBSZWdFeHBdXCIsIHFlID0gXCJbb2JqZWN0IFNldF1cIiwgVWUgPSBcIltvYmplY3QgU3RyaW5nXVwiLCAkZSA9IFwiW29iamVjdCBTeW1ib2xdXCIsIEJlID0gXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLCBYZSA9IFwiW29iamVjdCBEYXRhVmlld11cIiwgTmUgPSBcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLCBZZSA9IFwiW29iamVjdCBGbG9hdDY0QXJyYXldXCIsIEhlID0gXCJbb2JqZWN0IEludDhBcnJheV1cIiwgVmUgPSBcIltvYmplY3QgSW50MTZBcnJheV1cIiwgR2UgPSBcIltvYmplY3QgSW50MzJBcnJheV1cIiwgSmUgPSBcIltvYmplY3QgVWludDhBcnJheV1cIiwgS2UgPSBcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsIFFlID0gXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiLCBaZSA9IFwiW29iamVjdCBVaW50MzJBcnJheV1cIiwgZXQgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csIHR0ID0gL1xcdyokLywgYXQgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLCBpdCA9IC9eKD86MHxbMS05XVxcZCopJC8sIHJ0ID0ge307XG4gICAgICAgICAgICBydFtTZV0gPSBydFtcIltvYmplY3QgQXJyYXldXCJdID0gcnRbQmVdID0gcnRbWGVdID0gcnRbRWVdID0gcnRbSWVdID0gcnRbTmVdID0gcnRbWWVdID0gcnRbSGVdID0gcnRbVmVdID0gcnRbR2VdID0gcnRbVGVdID0gcnRbUmVdID0gcnRbRGVdID0gcnRbV2VdID0gcnRbcWVdID0gcnRbVWVdID0gcnRbJGVdID0gcnRbSmVdID0gcnRbS2VdID0gcnRbUWVdID0gcnRbWmVdID0gITAsIFxuICAgICAgICAgICAgcnRbXCJbb2JqZWN0IEVycm9yXVwiXSA9IHJ0W0NlXSA9IHJ0W1wiW29iamVjdCBXZWFrTWFwXVwiXSA9ICExO1xuICAgICAgICAgICAgdmFyIG50ID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBlICYmIGUuT2JqZWN0ID09PSBPYmplY3QgJiYgZSwgc3QgPSBcIm9iamVjdFwiID09IHR5cGVvZiBzZWxmICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmLCBvdCA9IG50IHx8IHN0IHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSwgY3QgPSBcIm9iamVjdFwiID09IHR5cGVvZiB0ICYmIHQgJiYgIXQubm9kZVR5cGUgJiYgdCwgbHQgPSBjdCAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBhICYmIGEgJiYgIWEubm9kZVR5cGUgJiYgYSwgdXQgPSBsdCAmJiBsdC5leHBvcnRzID09PSBjdCwgcHQgPSBBcnJheS5wcm90b3R5cGUsIGh0ID0gRnVuY3Rpb24ucHJvdG90eXBlLCB2dCA9IE9iamVjdC5wcm90b3R5cGUsIG10ID0gb3RbXCJfX2NvcmUtanNfc2hhcmVkX19cIl0sIGR0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSAvW14uXSskLy5leGVjKG10ICYmIG10LmtleXMgJiYgbXQua2V5cy5JRV9QUk9UTyB8fCBcIlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZSA/IFwiU3ltYm9sKHNyYylfMS5cIiArIGUgOiBcIlwiO1xuICAgICAgICAgICAgfSgpLCB5dCA9IGh0LnRvU3RyaW5nLCBmdCA9IHZ0Lmhhc093blByb3BlcnR5LCBidCA9IHZ0LnRvU3RyaW5nLCBfdCA9IFJlZ0V4cChcIl5cIiArIHl0LmNhbGwoZnQpLnJlcGxhY2UoZXQsIFwiXFxcXCQmXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csIFwiJDEuKj9cIikgKyBcIiRcIiksIGd0ID0gdXQgPyBvdC5CdWZmZXIgOiB2b2lkIDAsIHh0ID0gb3QuU3ltYm9sLCB3dCA9IG90LlVpbnQ4QXJyYXksIGt0ID0gaChPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksIGp0ID0gT2JqZWN0LmNyZWF0ZSwgUHQgPSB2dC5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgTXQgPSBwdC5zcGxpY2UsIE90ID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywgQXQgPSBndCA/IGd0LmlzQnVmZmVyIDogdm9pZCAwLCB6dCA9IGgoT2JqZWN0LmtleXMsIE9iamVjdCksIEZ0ID0gb2Uob3QsIFwiRGF0YVZpZXdcIiksIFN0ID0gb2Uob3QsIFwiTWFwXCIpLCBFdCA9IG9lKG90LCBcIlByb21pc2VcIiksIEl0ID0gb2Uob3QsIFwiU2V0XCIpLCBDdCA9IG9lKG90LCBcIldlYWtNYXBcIiksIEx0ID0gb2UoT2JqZWN0LCBcImNyZWF0ZVwiKSwgVHQgPSBkZShGdCksIFJ0ID0gZGUoU3QpLCBEdCA9IGRlKEV0KSwgV3QgPSBkZShJdCksIHF0ID0gZGUoQ3QpLCBVdCA9IHh0ID8geHQucHJvdG90eXBlIDogdm9pZCAwLCAkdCA9IFV0ID8gVXQudmFsdWVPZiA6IHZvaWQgMDtcbiAgICAgICAgICAgIG0ucHJvdG90eXBlLmNsZWFyID0gZCwgbS5wcm90b3R5cGUuZGVsZXRlID0geSwgbS5wcm90b3R5cGUuZ2V0ID0gZiwgbS5wcm90b3R5cGUuaGFzID0gYiwgXG4gICAgICAgICAgICBtLnByb3RvdHlwZS5zZXQgPSBfLCBnLnByb3RvdHlwZS5jbGVhciA9IHgsIGcucHJvdG90eXBlLmRlbGV0ZSA9IHcsIGcucHJvdG90eXBlLmdldCA9IGssIFxuICAgICAgICAgICAgZy5wcm90b3R5cGUuaGFzID0gaiwgZy5wcm90b3R5cGUuc2V0ID0gUCwgTS5wcm90b3R5cGUuY2xlYXIgPSBPLCBNLnByb3RvdHlwZS5kZWxldGUgPSBBLCBcbiAgICAgICAgICAgIE0ucHJvdG90eXBlLmdldCA9IHosIE0ucHJvdG90eXBlLmhhcyA9IEYsIE0ucHJvdG90eXBlLnNldCA9IFMsIEUucHJvdG90eXBlLmNsZWFyID0gSSwgXG4gICAgICAgICAgICBFLnByb3RvdHlwZS5kZWxldGUgPSBDLCBFLnByb3RvdHlwZS5nZXQgPSBMLCBFLnByb3RvdHlwZS5oYXMgPSBULCBFLnByb3RvdHlwZS5zZXQgPSBSO1xuICAgICAgICAgICAgdmFyIEJ0ID0gT3QgPyBoKE90LCBPYmplY3QpIDogTWUsIFh0ID0gTjtcbiAgICAgICAgICAgIChGdCAmJiBYdChuZXcgRnQobmV3IEFycmF5QnVmZmVyKDEpKSkgIT0gWGUgfHwgU3QgJiYgWHQobmV3IFN0KCkpICE9IFRlIHx8IEV0ICYmIFwiW29iamVjdCBQcm9taXNlXVwiICE9IFh0KEV0LnJlc29sdmUoKSkgfHwgSXQgJiYgWHQobmV3IEl0KCkpICE9IHFlIHx8IEN0ICYmIFwiW29iamVjdCBXZWFrTWFwXVwiICE9IFh0KG5ldyBDdCgpKSkgJiYgKFh0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gYnQuY2FsbChlKSwgYSA9IHQgPT0gRGUgPyBlLmNvbnN0cnVjdG9yIDogdm9pZCAwLCBpID0gYSA/IGRlKGEpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChpKSBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgVHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBYZTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBSdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRlO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIER0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJbb2JqZWN0IFByb21pc2VdXCI7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgV3Q6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxZTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSBxdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiW29iamVjdCBXZWFrTWFwXVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIE50ID0gQXJyYXkuaXNBcnJheSwgWXQgPSBBdCB8fCBPZTtcbiAgICAgICAgICAgIGEuZXhwb3J0cyA9IHllO1xuICAgICAgICB9KS5jYWxsKHQsIGEoNSksIGEoNikoZSkpO1xuICAgIH0sIGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgdmFyIGE7XG4gICAgICAgIGEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhID0gYSB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDAsIGV2YWwpKFwidGhpc1wiKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgXCJvYmplY3RcIiA9PSB0eXBlb2Ygd2luZG93ICYmIChhID0gd2luZG93KTtcbiAgICAgICAgfVxuICAgICAgICBlLmV4cG9ydHMgPSBhO1xuICAgIH0sIGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgZS5leHBvcnRzID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUud2VicGFja1BvbHlmaWxsIHx8IChlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge30sIGUucGF0aHMgPSBbXSwgZS5jaGlsZHJlbiB8fCAoZS5jaGlsZHJlbiA9IFtdKSwgXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJsb2FkZWRcIiwge1xuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImlkXCIsIHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLCBlLndlYnBhY2tQb2x5ZmlsbCA9IDEpLCBlO1xuICAgICAgICB9O1xuICAgIH0sIGZ1bmN0aW9uKGUsIHQsIGEpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIGZ1bmN0aW9uIGkoZSwgdCkge1xuICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBlKGUsIHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IHQubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0W2FdO1xuICAgICAgICAgICAgICAgICAgICBpLmVudW1lcmFibGUgPSBpLmVudW1lcmFibGUgfHwgITEsIGkuY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBpICYmIChpLndyaXRhYmxlID0gITApLCBcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIGkua2V5LCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgYSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhICYmIGUodC5wcm90b3R5cGUsIGEpLCBpICYmIGUodCwgaSksIHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZSh0LCBhKSB7XG4gICAgICAgICAgICAgICAgaSh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB0LCB0aGlzLmxpYnJhcnkgPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHIoZSwgWyB7XG4gICAgICAgICAgICAgICAga2V5OiBcImxpbmtQYXJ0aWNsZXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGUueCAtIHQueCwgaSA9IGUueSAtIHQueSwgciA9IE1hdGguc3FydChhICogYSArIGkgKiBpKSwgbiA9IHRoaXMubGlicmFyeS5jYW52YXMsIHMgPSB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMubGluZV9saW5rZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyIDw9IHRoaXMucGFyYW1zLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5kaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMubGluZV9saW5rZWQub3BhY2l0eSAtIHIgLyAoMSAvIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5vcGFjaXR5KSAvIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5wYXJhbXMucGFydGljbGVzLmxpbmVfbGlua2VkLmNvbG9yX3JnYl9saW5lLCBsID0gYy5yLCB1ID0gYy5nLCBwID0gYy5iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uY3R4LnNhdmUoKSwgbi5jdHguc3Ryb2tlU3R5bGUgPSBcInJnYmEoIFwiICsgbCArIFwiLCBcIiArIHUgKyBcIiwgXCIgKyBwICsgXCIsIFwiICsgbyArIFwiIClcIiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5jdHgubGluZVdpZHRoID0gdGhpcy5wYXJhbXMucGFydGljbGVzLmxpbmVfbGlua2VkLndpZHRoLCBuLmN0eC5iZWdpblBhdGgoKSwgcy5zaGFkb3cuZW5hYmxlICYmIChuLmN0eC5zaGFkb3dCbHVyID0gcy5zaGFkb3cuYmx1ciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5jdHguc2hhZG93Q29sb3IgPSBzLnNoYWRvdy5jb2xvciksIG4uY3R4Lm1vdmVUbyhlLngsIGUueSksIG4uY3R4LmxpbmVUbyh0LngsIHQueSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4uY3R4LnN0cm9rZSgpLCBuLmN0eC5jbG9zZVBhdGgoKSwgbi5jdHgucmVzdG9yZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJhdHRyYWN0UGFydGljbGVzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBlLnggLSB0LngsIGkgPSBlLnkgLSB0Lnk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnNxcnQoYSAqIGEgKyBpICogaSkgPD0gdGhpcy5wYXJhbXMucGFydGljbGVzLmxpbmVfbGlua2VkLmRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGEgLyAoMWUzICogdGhpcy5wYXJhbXMucGFydGljbGVzLm1vdmUuYXR0cmFjdC5yb3RhdGVYKSwgbiA9IGkgLyAoMWUzICogdGhpcy5wYXJhbXMucGFydGljbGVzLm1vdmUuYXR0cmFjdC5yb3RhdGVZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUudnggLT0gciwgZS52eSAtPSBuLCB0LnZ4ICs9IHIsIHQudnkgKz0gbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiYm91bmNlUGFydGljbGVzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBlLnggLSB0LngsIGkgPSBlLnkgLSB0Lnk7XG4gICAgICAgICAgICAgICAgICAgIE1hdGguc3FydChhICogYSArIGkgKiBpKSA8PSBlLnJhZGl1cyArIHQucmFkaXVzICYmIChlLnZ4ID0gLWUudngsIGUudnkgPSAtZS52eSwgXG4gICAgICAgICAgICAgICAgICAgIHQudnggPSAtdC52eCwgdC52eSA9IC10LnZ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IF0pLCBlO1xuICAgICAgICB9KCk7XG4gICAgICAgIHQuZGVmYXVsdCA9IG47XG4gICAgfSwgZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgZnVuY3Rpb24gaShlLCB0KSB7XG4gICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGUoZSwgdCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdC5sZW5ndGg7IGErKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHRbYV07XG4gICAgICAgICAgICAgICAgICAgIGkuZW51bWVyYWJsZSA9IGkuZW51bWVyYWJsZSB8fCAhMSwgaS5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIGkgJiYgKGkud3JpdGFibGUgPSAhMCksIFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgaS5rZXksIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBhLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgJiYgZSh0LnByb3RvdHlwZSwgYSksIGkgJiYgZSh0LCBpKSwgdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBuID0gYSgwKSwgcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZSh0LCBhKSB7XG4gICAgICAgICAgICAgICAgaSh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB0LCB0aGlzLmxpYnJhcnkgPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHIoZSwgWyB7XG4gICAgICAgICAgICAgICAga2V5OiBcInB1c2hQYXJ0aWNsZXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMubGlicmFyeSwgaSA9IGEuY2FudmFzLCByID0gYS50bXAsIHMgPSBhLm1hbmFnZXI7XG4gICAgICAgICAgICAgICAgICAgIHIucHVzaGluZyA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvID0gMDsgbyA8IGU7IG8rKykgdGhpcy5wYXJhbXMucGFydGljbGVzLmFycmF5LnB1c2gobmV3IG4uUGFydGljbGUodGhpcy5wYXJhbXMsIHRoaXMubGlicmFyeSwgdGhpcy5wYXJhbXMucGFydGljbGVzLmNvbG9yLCB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogdCA/IHQucG9zX3ggOiBNYXRoLnJhbmRvbSgpICogaS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHQgPyB0LnBvc195IDogTWF0aC5yYW5kb20oKSAqIGkuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH0pKSwgbyA9PSBlIC0gMSAmJiAodGhpcy5wYXJhbXMucGFydGljbGVzLm1vdmUuZW5hYmxlIHx8IHMucGFydGljbGVzRHJhdygpLCByLnB1c2hpbmcgPSAhMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJyZW1vdmVQYXJ0aWNsZXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMubGlicmFyeS5tYW5hZ2VyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuYXJyYXkuc3BsaWNlKDAsIGUpLCB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMubW92ZS5lbmFibGUgfHwgdC5wYXJ0aWNsZXNEcmF3KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJidWJibGVQYXJ0aWNsZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcywgYSA9IHRoaXMubGlicmFyeS50bXA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmhvdmVyLmVuYWJsZSAmJiBuLmlzSW5BcnJheShcImJ1YmJsZVwiLCB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmhvdmVyLm1vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IGUueCAtIHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW91c2UucG9zX3gsIHIgPSBlLnkgLSB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc195LCBzID0gTWF0aC5zcXJ0KGkgKiBpICsgciAqIHIpLCBvID0gMSAtIHMgLyB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kaXN0YW5jZSwgYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUub3BhY2l0eV9idWJibGUgPSBlLm9wYWNpdHksIGUucmFkaXVzX2J1YmJsZSA9IGUucmFkaXVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzIDw9IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gPj0gMCAmJiBcIm1vdXNlbW92ZVwiID09IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5zaXplICE9IHRoaXMucGFyYW1zLnBhcnRpY2xlcy5zaXplLnZhbHVlKSBpZiAodGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuc2l6ZSA+IHRoaXMucGFyYW1zLnBhcnRpY2xlcy5zaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGUucmFkaXVzICsgdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuc2l6ZSAqIG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsID49IDAgJiYgKGUucmFkaXVzX2J1YmJsZSA9IGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBlLnJhZGl1cyAtIHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLnNpemUsIHAgPSBlLnJhZGl1cyAtIHUgKiBvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5yYWRpdXNfYnViYmxlID0gcCA+IDAgPyBwIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUub3BhY2l0eSAhPSB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSkgaWYgKHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLm9wYWNpdHkgPiB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGggPSB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5vcGFjaXR5ICogbztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggPiBlLm9wYWNpdHkgJiYgaCA8PSB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5vcGFjaXR5ICYmIChlLm9wYWNpdHlfYnViYmxlID0gaCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IGUub3BhY2l0eSAtICh0aGlzLnBhcmFtcy5wYXJ0aWNsZXMub3BhY2l0eS52YWx1ZSAtIHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLm9wYWNpdHkpICogbztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYgPCBlLm9wYWNpdHkgJiYgdiA+PSB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5vcGFjaXR5ICYmIChlLm9wYWNpdHlfYnViYmxlID0gdik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgYygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJtb3VzZWxlYXZlXCIgPT0gdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5zdGF0dXMgJiYgYygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2suZW5hYmxlICYmIG4uaXNJbkFycmF5KFwiYnViYmxlXCIsIHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2subW9kZSkgJiYgYS5idWJibGVfY2xpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gZS54IC0gdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja19wb3NfeCwgZCA9IGUueSAtIHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW91c2UuY2xpY2tfcG9zX3ksIHkgPSBNYXRoLnNxcnQobSAqIG0gKyBkICogZCksIGYgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vdXNlLmNsaWNrX3RpbWUpIC8gMWUzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZiA+IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmR1cmF0aW9uICYmIChhLmJ1YmJsZV9kdXJhdGlvbl9lbmQgPSAhMCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgZiA+IDIgKiB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kdXJhdGlvbiAmJiAoYS5idWJibGVfY2xpY2tpbmcgPSAhMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBhLmJ1YmJsZV9kdXJhdGlvbl9lbmQgPSAhMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYiA9IGZ1bmN0aW9uKGksIHIsIG4sIHMsIG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPSByKSBpZiAoYS5idWJibGVfZHVyYXRpb25fZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT0gbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBzIC0gZiAqIChzIC0gaSkgLyB0LnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kdXJhdGlvbiwgbCA9IGkgLSBjLCB1ID0gaSArIGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNpemVcIiA9PSBvICYmIChlLnJhZGl1c19idWJibGUgPSB1KSwgXCJvcGFjaXR5XCIgPT0gbyAmJiAoZS5vcGFjaXR5X2J1YmJsZSA9IHUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh5IDw9IHQucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLmRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodm9pZCAwICE9IG4gPyBuIDogcykgIT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBzIC0gZiAqIChzIC0gaSkgLyB0LnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2l6ZVwiID09IG8gJiYgKGUucmFkaXVzX2J1YmJsZSA9IHApLCBcIm9wYWNpdHlcIiA9PSBvICYmIChlLm9wYWNpdHlfYnViYmxlID0gcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgXCJzaXplXCIgPT0gbyAmJiAoZS5yYWRpdXNfYnViYmxlID0gdm9pZCAwKSwgXCJvcGFjaXR5XCIgPT0gbyAmJiAoZS5vcGFjaXR5X2J1YmJsZSA9IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5idWJibGVfY2xpY2tpbmcgJiYgKGIodGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuc2l6ZSwgdGhpcy5wYXJhbXMucGFydGljbGVzLnNpemUudmFsdWUsIGUucmFkaXVzX2J1YmJsZSwgZS5yYWRpdXMsIFwic2l6ZVwiKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBiKHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLm9wYWNpdHksIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5vcGFjaXR5LnZhbHVlLCBlLm9wYWNpdHlfYnViYmxlLCBlLm9wYWNpdHksIFwib3BhY2l0eVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInJlcHVsc2VQYXJ0aWNsZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcywgYSA9IHRoaXMubGlicmFyeSwgaSA9IGEuY2FudmFzLCByID0gYS50bXA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmhvdmVyLmVuYWJsZSAmJiBuLmlzSW5BcnJheShcInJlcHVsc2VcIiwgdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5tb2RlKSAmJiBcIm1vdXNlbW92ZVwiID09IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGUueCAtIHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW91c2UucG9zX3gsIG8gPSBlLnkgLSB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vdXNlLnBvc195LCBjID0gTWF0aC5zcXJ0KHMgKiBzICsgbyAqIG8pLCBsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHMgLyBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IG8gLyBjXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB1ID0gdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5yZXB1bHNlLmRpc3RhbmNlLCBwID0gbi5jbGFtcCgxIC8gdSAqICgtMSAqIE1hdGgucG93KGMgLyB1LCAyKSArIDEpICogdSAqIDEwMCwgMCwgNTApLCBoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGUueCArIGwueCAqIHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogZS55ICsgbC55ICogcFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYm91bmNlXCIgPT0gdGhpcy5wYXJhbXMucGFydGljbGVzLm1vdmUub3V0X21vZGUgPyAoaC54IC0gZS5yYWRpdXMgPiAwICYmIGgueCArIGUucmFkaXVzIDwgaS53aWR0aCAmJiAoZS54ID0gaC54KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBoLnkgLSBlLnJhZGl1cyA+IDAgJiYgaC55ICsgZS5yYWRpdXMgPCBpLmhlaWdodCAmJiAoZS55ID0gaC55KSkgOiAoZS54ID0gaC54LCBlLnkgPSBoLnkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkuZXZlbnRzLm9uY2xpY2suZW5hYmxlICYmIG4uaXNJbkFycmF5KFwicmVwdWxzZVwiLCB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmNsaWNrLm1vZGUpKSBpZiAoci5yZXB1bHNlX2ZpbmlzaCB8fCArK3IucmVwdWxzZV9jb3VudCA9PSB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuYXJyYXkubGVuZ3RoICYmIChyLnJlcHVsc2VfZmluaXNoID0gITApLCBcbiAgICAgICAgICAgICAgICAgICAgci5yZXB1bHNlX2NsaWNraW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdiA9IE1hdGgucG93KHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMucmVwdWxzZS5kaXN0YW5jZSAvIDYsIDMpLCBtID0gdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb3VzZS5jbGlja19wb3NfeCAtIGUueCwgZCA9IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW91c2UuY2xpY2tfcG9zX3kgLSBlLnksIHkgPSBtICogbSArIGQgKiBkLCBmID0gLXYgLyB5ICogMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPD0gdiAmJiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IE1hdGguYXRhbjIoZCwgbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudnggPSBmICogTWF0aC5jb3MoYSksIGUudnkgPSBmICogTWF0aC5zaW4oYSksIFwiYm91bmNlXCIgPT0gdC5wYXJhbXMucGFydGljbGVzLm1vdmUub3V0X21vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiBlLnggKyBlLnZ4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogZS55ICsgZS52eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnggKyBlLnJhZGl1cyA+IGkud2lkdGggPyBlLnZ4ID0gLWUudnggOiByLnggLSBlLnJhZGl1cyA8IDAgJiYgKGUudnggPSAtZS52eCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByLnkgKyBlLnJhZGl1cyA+IGkuaGVpZ2h0ID8gZS52eSA9IC1lLnZ5IDogci55IC0gZS5yYWRpdXMgPCAwICYmIChlLnZ5ID0gLWUudnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIDAgPT0gci5yZXB1bHNlX2NsaWNraW5nICYmIChlLnZ4ID0gZS52eF9pLCBlLnZ5ID0gZS52eV9pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImdyYWJQYXJ0aWNsZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5saWJyYXJ5LmNhbnZhcywgYSA9IHRoaXMucGFyYW1zLCBpID0gYS5pbnRlcmFjdGl2aXR5LCByID0gYS5wYXJ0aWNsZXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpLmV2ZW50cy5vbmhvdmVyLmVuYWJsZSAmJiBcIm1vdXNlbW92ZVwiID09IGkuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IGUueCAtIGkubW91c2UucG9zX3gsIHMgPSBlLnkgLSBpLm1vdXNlLnBvc195LCBvID0gTWF0aC5zcXJ0KG4gKiBuICsgcyAqIHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gPD0gaS5tb2Rlcy5ncmFiLmRpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBpLm1vZGVzLmdyYWIsIGwgPSBjLmxpbmVfbGlua2VkLm9wYWNpdHkgLSBvIC8gKDEgLyBjLmxpbmVfbGlua2VkLm9wYWNpdHkpIC8gYy5kaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSByLmxpbmVfbGlua2VkLmNvbG9yX3JnYl9saW5lLCBwID0gdS5yLCBoID0gdS5nLCB2ID0gdS5iO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LmN0eC5zdHJva2VTdHlsZSA9IFwicmdiYSggXCIgKyBwICsgXCIsIFwiICsgaCArIFwiLCBcIiArIHYgKyBcIiwgXCIgKyBsICsgXCIgKVwiLCB0LmN0eC5saW5lV2lkdGggPSByLmxpbmVfbGlua2VkLndpZHRoLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5jdHguYmVnaW5QYXRoKCksIHQuY3R4Lm1vdmVUbyhlLngsIGUueSksIHQuY3R4LmxpbmVUbyhpLm1vdXNlLnBvc194LCBpLm1vdXNlLnBvc195KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuY3R4LnN0cm9rZSgpLCB0LmN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IF0pLCBlO1xuICAgICAgICB9KCk7XG4gICAgICAgIHQuZGVmYXVsdCA9IHM7XG4gICAgfSwgZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgZnVuY3Rpb24gaShlLCB0KSB7XG4gICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGU7XG4gICAgICAgIH0gOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICByZXR1cm4gZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgZTtcbiAgICAgICAgfSwgbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZShlLCB0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0Lmxlbmd0aDsgYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gdFthXTtcbiAgICAgICAgICAgICAgICAgICAgaS5lbnVtZXJhYmxlID0gaS5lbnVtZXJhYmxlIHx8ICExLCBpLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gaSAmJiAoaS53cml0YWJsZSA9ICEwKSwgXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBpLmtleSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHQsIGEsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYSAmJiBlKHQucHJvdG90eXBlLCBhKSwgaSAmJiBlKHQsIGkpLCB0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSgpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHMgPSBhKDApLCBvID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBlKHQsIGEsIHIsIG4sIHMpIHtcbiAgICAgICAgICAgICAgICBpKHRoaXMsIGUpLCB0aGlzLnBhcmFtcyA9IHQsIHRoaXMubGlicmFyeSA9IGEsIHRoaXMuc2V0dXBTaXplKCksIHRoaXMuc2V0dXBQb3NpdGlvbihzKSwgXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cENvbG9yKHIpLCB0aGlzLnNldHVwT3BhY2l0eSgpLCB0aGlzLnNldHVwQW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbihlLCBbIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwic2V0dXBTaXplXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJhZGl1cyA9ICh0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2l6ZS5yYW5kb20gPyBNYXRoLnJhbmRvbSgpIDogMSkgKiB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2l6ZS52YWx1ZSwgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5zaXplLmFuaW0uZW5hYmxlICYmICh0aGlzLnNpemVfc3RhdHVzID0gITEsIHRoaXMudnMgPSB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2l6ZS5hbmltLnNwZWVkIC8gMTAwLCBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMucGFydGljbGVzLnNpemUuYW5pbS5zeW5jIHx8ICh0aGlzLnZzID0gdGhpcy52cyAqIE1hdGgucmFuZG9tKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInNldHVwUG9zaXRpb25cIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMubGlicmFyeSwgYSA9IHQuY2FudmFzLCBpID0gdC52ZW5kb3JzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPSBlID8gZS54IDogTWF0aC5yYW5kb20oKSAqIGEud2lkdGgsIHRoaXMueSA9IGUgPyBlLnkgOiBNYXRoLnJhbmRvbSgpICogYS5oZWlnaHQsIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnggPiBhLndpZHRoIC0gMiAqIHRoaXMucmFkaXVzID8gdGhpcy54ID0gdGhpcy54IC0gdGhpcy5yYWRpdXMgOiB0aGlzLnggPCAyICogdGhpcy5yYWRpdXMgJiYgKHRoaXMueCA9IHRoaXMueCArIHRoaXMucmFkaXVzKSwgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueSA+IGEuaGVpZ2h0IC0gMiAqIHRoaXMucmFkaXVzID8gdGhpcy55ID0gdGhpcy55IC0gdGhpcy5yYWRpdXMgOiB0aGlzLnkgPCAyICogdGhpcy5yYWRpdXMgJiYgKHRoaXMueSA9IHRoaXMueSArIHRoaXMucmFkaXVzKSwgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5tb3ZlLmJvdW5jZSAmJiBpLmNoZWNrT3ZlcmxhcCh0aGlzLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInNldHVwQ29sb3JcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gcy5nZXRDb2xvcihlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInNldHVwT3BhY2l0eVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGFjaXR5ID0gKHRoaXMucGFyYW1zLnBhcnRpY2xlcy5vcGFjaXR5LnJhbmRvbSA/IE1hdGgucmFuZG9tKCkgOiAxKSAqIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5vcGFjaXR5LnZhbHVlLCBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMucGFydGljbGVzLm9wYWNpdHkuYW5pbS5lbmFibGUgJiYgKHRoaXMub3BhY2l0eV9zdGF0dXMgPSAhMSwgdGhpcy52byA9IHRoaXMucGFyYW1zLnBhcnRpY2xlcy5vcGFjaXR5LmFuaW0uc3BlZWQgLyAxMDAsIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMub3BhY2l0eS5hbmltLnN5bmMgfHwgKHRoaXMudm8gPSB0aGlzLnZvICogTWF0aC5yYW5kb20oKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwic2V0dXBBbmltYXRpb25cIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5saWJyYXJ5LCB0ID0gZS50bXAsIGEgPSBlLnZlbmRvcnMsIGkgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMucGFyYW1zLnBhcnRpY2xlcy5tb3ZlLmRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRvcC1yaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAtLjVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib3R0b20tcmlnaHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogLjVcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tLWxlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogLS41LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b3AtbGVmdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAtLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogLS41XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMucGFydGljbGVzLm1vdmUuc3RyYWlnaHQgPyAodGhpcy52eCA9IGkueCwgdGhpcy52eSA9IGkueSwgdGhpcy5wYXJhbXMucGFydGljbGVzLm1vdmUucmFuZG9tICYmICh0aGlzLnZ4ID0gdGhpcy52eCAqIE1hdGgucmFuZG9tKCksIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZ5ID0gdGhpcy52eSAqIE1hdGgucmFuZG9tKCkpKSA6ICh0aGlzLnZ4ID0gaS54ICsgTWF0aC5yYW5kb20oKSAtIC41LCB0aGlzLnZ5ID0gaS55ICsgTWF0aC5yYW5kb20oKSAtIC41KSwgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudnhfaSA9IHRoaXMudngsIHRoaXMudnlfaSA9IHRoaXMudnk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuID0gdGhpcy5wYXJhbXMucGFydGljbGVzLnNoYXBlLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09ICh2b2lkIDAgPT09IG4gPyBcInVuZGVmaW5lZFwiIDogcihuKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IG5bTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbi5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXBlID0gcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuc2hhcGUgPSBuO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJpbWFnZVwiID09IHRoaXMuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gdGhpcy5wYXJhbXMucGFydGljbGVzLnNoYXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBvLmltYWdlLnNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbzogby5pbWFnZS53aWR0aCAvIG8uaW1hZ2UuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmltZy5yYXRpbyB8fCAodGhpcy5pbWcucmF0aW8gPSAxKSwgXCJzdmdcIiA9PSB0LmltZ190eXBlICYmIHZvaWQgMCAhPSBvLmltYWdlLmRhdGEgJiYgKGEuY3JlYXRlU3ZnSW1nKHRoaXMsIG8uaW1hZ2UuZGF0YSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgdC5wdXNoaW5nICYmICh0aGlzLmltZy5sb2FkZWQgPSAhMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChcImltYWdlc1wiID09IHRoaXMuc2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gdGhpcy5wYXJhbXMucGFydGljbGVzLnNoYXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5pbWdfaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gYy5pbWFnZXNbdC5pbWdfaW5kZXggJSBjLmltYWdlcy5sZW5ndGhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBsLnNyYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbzogbC53aWR0aCAvIGwuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmltZy5yYXRpbyB8fCAodGhpcy5pbWcucmF0aW8gPSAxKSwgXCJzdmdcIiA9PSB0LmltZ190eXBlICYmIHZvaWQgMCAhPSBsLmRhdGEgJiYgKGEuY3JlYXRlU3ZnSW1nKHRoaXMsIGwuZGF0YSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgdC5wdXNoaW5nICYmICh0aGlzLmltZy5sb2FkZWQgPSAhMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJkcmF3XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMsIHQgPSB0aGlzLmxpYnJhcnksIGEgPSB0LmNhbnZhcywgaSA9IHQudG1wLCByID0gdC52ZW5kb3JzLCBuID0gKHRoaXMucGFyYW1zLnBhcnRpY2xlcywgXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgICAgIG4gPSB2b2lkIDAgIT0gdGhpcy5yYWRpdXNfYnViYmxlID8gdGhpcy5yYWRpdXNfYnViYmxlIDogdGhpcy5yYWRpdXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBzID0gdm9pZCAwICE9IHRoaXMub3BhY2l0eV9idWJibGUgPyB0aGlzLm9wYWNpdHlfYnViYmxlIDogdGhpcy5vcGFjaXR5O1xuICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29sb3IucmdiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuY29sb3IucmdiO1xuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IFwicmdiYSggXCIgKyBjLnIgKyBcIiwgXCIgKyBjLmcgKyBcIiwgXCIgKyBjLmIgKyBcIiwgXCIgKyBzICsgXCIgKVwiO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSB0aGlzLmNvbG9yLmhzbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8gPSBcImhzbGEoIFwiICsgbC5oICsgXCIsIFwiICsgbC5zICsgXCIsIFwiICsgbC5sICsgXCIsIFwiICsgcyArIFwiIClcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGEuY3R4LmZpbGxTdHlsZSA9IG8sIGEuY3R4LmJlZ2luUGF0aCgpLCB0aGlzLnNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYS5jdHguYXJjKHRoaXMueCwgdGhpcy55LCBuLCAwLCAyICogTWF0aC5QSSwgITEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZWRnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYS5jdHgucmVjdCh0aGlzLnggLSBuLCB0aGlzLnkgLSBuLCAyICogbiwgMiAqIG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJpYW5nbGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHIuZHJhd1NoYXBlKGEuY3R4LCB0aGlzLnggLSBuLCB0aGlzLnkgKyBuIC8gMS42NiwgMiAqIG4sIDMsIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicG9seWdvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgci5kcmF3U2hhcGUoYS5jdHgsIHRoaXMueCAtIG4gLyAodGhpcy5wYXJhbXMucGFydGljbGVzLnNoYXBlLnBvbHlnb24ubmJfc2lkZXMgLyAzLjUpLCB0aGlzLnkgLSBuIC8gLjc2LCAyLjY2ICogbiAvICh0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2hhcGUucG9seWdvbi5uYl9zaWRlcyAvIDMpLCB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2hhcGUucG9seWdvbi5uYl9zaWRlcywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByLmRyYXdTaGFwZShhLmN0eCwgdGhpcy54IC0gMiAqIG4gLyAodGhpcy5wYXJhbXMucGFydGljbGVzLnNoYXBlLnBvbHlnb24ubmJfc2lkZXMgLyA0KSwgdGhpcy55IC0gbiAvIDEuNTIsIDIgKiBuICogMi42NiAvICh0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2hhcGUucG9seWdvbi5uYl9zaWRlcyAvIDMpLCB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2hhcGUucG9seWdvbi5uYl9zaWRlcywgMik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbWFnZXNcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdSA9IFwic3ZnXCIgPT0gaS5pbWdfdHlwZSA/IHRoaXMuaW1nLm9iaiA6IGkuaW1nX29iaiwgdSAmJiBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5jdHguZHJhd0ltYWdlKHQsIGUueCAtIG4sIGUueSAtIG4sIDIgKiBuLCAyICogbiAvIGUuaW1nLnJhdGlvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0odSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYS5jdHguY2xvc2VQYXRoKCksIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5zaGFwZS5zdHJva2Uud2lkdGggPiAwICYmIChhLmN0eC5zdHJva2VTdHlsZSA9IHRoaXMucGFyYW1zLnBhcnRpY2xlcy5zaGFwZS5zdHJva2UuY29sb3IsIFxuICAgICAgICAgICAgICAgICAgICBhLmN0eC5saW5lV2lkdGggPSB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2hhcGUuc3Ryb2tlLndpZHRoLCBhLmN0eC5zdHJva2UoKSksIGEuY3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IF0pLCBlO1xuICAgICAgICB9KCk7XG4gICAgICAgIHQuZGVmYXVsdCA9IG87XG4gICAgfSwgZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgZnVuY3Rpb24gaShlLCB0KSB7XG4gICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGUoZSwgdCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdC5sZW5ndGg7IGErKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHRbYV07XG4gICAgICAgICAgICAgICAgICAgIGkuZW51bWVyYWJsZSA9IGkuZW51bWVyYWJsZSB8fCAhMSwgaS5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIGkgJiYgKGkud3JpdGFibGUgPSAhMCksIFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgaS5rZXksIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBhLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgJiYgZSh0LnByb3RvdHlwZSwgYSksIGkgJiYgZSh0LCBpKSwgdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBuID0gYSgwKSwgcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZSh0LCBhLCByLCBuLCBzKSB7XG4gICAgICAgICAgICAgICAgaSh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB0LCB0aGlzLmludGVyYWN0ID0gYSwgdGhpcy5tb2RlcyA9IHIsIHRoaXMudmVuZG9ycyA9IG4sIFxuICAgICAgICAgICAgICAgIHRoaXMubGlicmFyeSA9IHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcihlLCBbIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwicGFydGljbGVzQ3JlYXRlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gdGhpcy5wYXJhbXMucGFydGljbGVzLCB0ID0gZS5jb2xvciwgYSA9IGUub3BhY2l0eSwgaSA9IDA7IGkgPCB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMubnVtYmVyLnZhbHVlOyBpKyspIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5hcnJheS5wdXNoKG5ldyBuLlBhcnRpY2xlKHRoaXMucGFyYW1zLCB0aGlzLmxpYnJhcnksIHQsIGEudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInBhcnRpY2xlc1VwZGF0ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLCB0ID0gdGhpcy5saWJyYXJ5LCBhID0gdC5jYW52YXMsIGkgPSB0LmludGVyYWN0LCByID0gdC5tb2RlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMucGFydGljbGVzLmFycmF5LmZvckVhY2goZnVuY3Rpb24odCwgcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUucGFyYW1zLnBhcnRpY2xlcy5tb3ZlLmVuYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gZS5wYXJhbXMucGFydGljbGVzLm1vdmUuc3BlZWQgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQueCArPSB0LnZ4ICogbywgdC55ICs9IHQudnkgKiBvO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wYXJhbXMucGFydGljbGVzLm9wYWNpdHkuYW5pbS5lbmFibGUgJiYgKDEgPT0gdC5vcGFjaXR5X3N0YXR1cyA/ICh0Lm9wYWNpdHkgPj0gZS5wYXJhbXMucGFydGljbGVzLm9wYWNpdHkudmFsdWUgJiYgKHQub3BhY2l0eV9zdGF0dXMgPSAhMSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgdC5vcGFjaXR5ICs9IHQudm8pIDogKHQub3BhY2l0eSA8PSBlLnBhcmFtcy5wYXJ0aWNsZXMub3BhY2l0eS5hbmltLm9wYWNpdHlfbWluICYmICh0Lm9wYWNpdHlfc3RhdHVzID0gITApLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHQub3BhY2l0eSAtPSB0LnZvKSwgdC5vcGFjaXR5IDwgMCAmJiAodC5vcGFjaXR5ID0gMCkpLCBlLnBhcmFtcy5wYXJ0aWNsZXMuc2l6ZS5hbmltLmVuYWJsZSAmJiAoMSA9PSB0LnNpemVfc3RhdHVzID8gKHQucmFkaXVzID49IGUucGFyYW1zLnBhcnRpY2xlcy5zaXplLnZhbHVlICYmICh0LnNpemVfc3RhdHVzID0gITEpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHQucmFkaXVzICs9IHQudnMpIDogKHQucmFkaXVzIDw9IGUucGFyYW1zLnBhcnRpY2xlcy5zaXplLmFuaW0uc2l6ZV9taW4gJiYgKHQuc2l6ZV9zdGF0dXMgPSAhMCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgdC5yYWRpdXMgLT0gdC52cyksIHQucmFkaXVzIDwgMCAmJiAodC5yYWRpdXMgPSAwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYyA9IFwiYm91bmNlXCIgPT0gZS5wYXJhbXMucGFydGljbGVzLm1vdmUub3V0X21vZGUgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeF9sZWZ0OiB0LnJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4X3JpZ2h0OiBhLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlfdG9wOiB0LnJhZGl1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5X2JvdHRvbTogYS5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeF9sZWZ0OiAtdC5yYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeF9yaWdodDogYS53aWR0aCArIHQucmFkaXVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlfdG9wOiAtdC5yYWRpdXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeV9ib3R0b206IGEuaGVpZ2h0ICsgdC5yYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHQueCAtIHQucmFkaXVzID4gYS53aWR0aCA/ICh0LnggPSBjLnhfbGVmdCwgdC55ID0gTWF0aC5yYW5kb20oKSAqIGEuaGVpZ2h0KSA6IHQueCArIHQucmFkaXVzIDwgMCAmJiAodC54ID0gYy54X3JpZ2h0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHQueSA9IE1hdGgucmFuZG9tKCkgKiBhLmhlaWdodCksIHQueSAtIHQucmFkaXVzID4gYS5oZWlnaHQgPyAodC55ID0gYy55X3RvcCwgdC54ID0gTWF0aC5yYW5kb20oKSAqIGEud2lkdGgpIDogdC55ICsgdC5yYWRpdXMgPCAwICYmICh0LnkgPSBjLnlfYm90dG9tLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHQueCA9IE1hdGgucmFuZG9tKCkgKiBhLndpZHRoKSwgZS5wYXJhbXMucGFydGljbGVzLm1vdmUub3V0X21vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvdW5jZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQueCArIHQucmFkaXVzID4gYS53aWR0aCA/IHQudnggPSAtdC52eCA6IHQueCAtIHQucmFkaXVzIDwgMCAmJiAodC52eCA9IC10LnZ4KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC55ICsgdC5yYWRpdXMgPiBhLmhlaWdodCA/IHQudnkgPSAtdC52eSA6IHQueSAtIHQucmFkaXVzIDwgMCAmJiAodC52eSA9IC10LnZ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuLmlzSW5BcnJheShcImdyYWJcIiwgZS5wYXJhbXMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5tb2RlKSAmJiByLmdyYWJQYXJ0aWNsZSh0KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAobi5pc0luQXJyYXkoXCJidWJibGVcIiwgZS5wYXJhbXMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5tb2RlKSB8fCBuLmlzSW5BcnJheShcImJ1YmJsZVwiLCBlLnBhcmFtcy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5vbmNsaWNrLm1vZGUpKSAmJiByLmJ1YmJsZVBhcnRpY2xlKHQpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIChuLmlzSW5BcnJheShcInJlcHVsc2VcIiwgZS5wYXJhbXMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25ob3Zlci5tb2RlKSB8fCBuLmlzSW5BcnJheShcInJlcHVsc2VcIiwgZS5wYXJhbXMuaW50ZXJhY3Rpdml0eS5ldmVudHMub25jbGljay5tb2RlKSkgJiYgci5yZXB1bHNlUGFydGljbGUodCksIFxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wYXJhbXMucGFydGljbGVzLmxpbmVfbGlua2VkLmVuYWJsZSB8fCBlLnBhcmFtcy5wYXJ0aWNsZXMubW92ZS5hdHRyYWN0LmVuYWJsZSkgZm9yICh2YXIgbCA9IHMgKyAxOyBsIDwgZS5wYXJhbXMucGFydGljbGVzLmFycmF5Lmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBlLnBhcmFtcy5wYXJ0aWNsZXMuYXJyYXlbbF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wYXJhbXMucGFydGljbGVzLmxpbmVfbGlua2VkLmVuYWJsZSAmJiBpLmxpbmtQYXJ0aWNsZXModCwgdSksIGUucGFyYW1zLnBhcnRpY2xlcy5tb3ZlLmF0dHJhY3QuZW5hYmxlICYmIGkuYXR0cmFjdFBhcnRpY2xlcyh0LCB1KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wYXJhbXMucGFydGljbGVzLm1vdmUuYm91bmNlICYmIGkuYm91bmNlUGFydGljbGVzKHQsIHUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInBhcnRpY2xlc0RyYXdcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5saWJyYXJ5LCB0ID0gZS5jYW52YXMsIGEgPSBlLm1hbmFnZXI7XG4gICAgICAgICAgICAgICAgICAgIHQuY3R4LmNsZWFyUmVjdCgwLCAwLCB0LndpZHRoLCB0LmhlaWdodCksIGEucGFydGljbGVzVXBkYXRlKCksIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5hcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuZHJhdygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInBhcnRpY2xlc0VtcHR5XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuYXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInBhcnRpY2xlc1JlZnJlc2hcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5saWJyYXJ5LCB0ID0gZS50bXA7XG4gICAgICAgICAgICAgICAgICAgIGUudmVuZG9ycztcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodC5jaGVja0FuaW1GcmFtZSksIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHQuZHJhd0FuaW1GcmFtZSksIHQuaW1nX29iaiA9IHZvaWQgMCwgXG4gICAgICAgICAgICAgICAgICAgIHQuY291bnRfc3ZnID0gMCwgdGhpcy5wYXJ0aWNsZXNFbXB0eSgpLCB0aGlzLmxpYnJhcnkuY2FudmFzQ2xlYXIoKSwgdGhpcy5saWJyYXJ5LnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBdKSwgZTtcbiAgICAgICAgfSgpO1xuICAgICAgICB0LmRlZmF1bHQgPSBzO1xuICAgIH0sIGZ1bmN0aW9uKGUsIHQsIGEpIHtcbiAgICAgICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgICAgIGZ1bmN0aW9uIGkoZSwgdCkge1xuICAgICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBlKGUsIHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IHQubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB0W2FdO1xuICAgICAgICAgICAgICAgICAgICBpLmVudW1lcmFibGUgPSBpLmVudW1lcmFibGUgfHwgITEsIGkuY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBpICYmIChpLndyaXRhYmxlID0gITApLCBcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIGkua2V5LCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCwgYSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhICYmIGUodC5wcm90b3R5cGUsIGEpLCBpICYmIGUodCwgaSksIHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgdmFsdWU6ICEwXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbiA9IGEoMCksIHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGUodCkge1xuICAgICAgICAgICAgICAgIGkodGhpcywgZSksIHRoaXMudG1wID0ge30sIHRoaXMudG1wID0ge30sIHRoaXMubG9hZFBhcmFtZXRlcnModCksIHRoaXMuZXh0ZW5kUGFyYW1zKCksIFxuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJhY3QgPSBuZXcgbi5JbnRlcmFjdCh0aGlzLnBhcmFtcywgdGhpcyksIHRoaXMubW9kZXMgPSBuZXcgbi5Nb2Rlcyh0aGlzLnBhcmFtcywgdGhpcyksIFxuICAgICAgICAgICAgICAgIHRoaXMudmVuZG9ycyA9IG5ldyBuLlZlbmRvcnModGhpcy5wYXJhbXMsIHRoaXMpLCB0aGlzLm1hbmFnZXIgPSBuZXcgbi5QYXJ0aWNsZU1hbmFnZXIodGhpcy5wYXJhbXMsIHRoaXMuaW50ZXJhY3QsIHRoaXMubW9kZXMsIHRoaXMudmVuZG9ycywgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcihlLCBbIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwibG9hZFBhcmFtZXRlcnNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IG4uZ2V0RGVmYXVsdFBhcmFtcygpLCBhID0gbi5kZWVwRXh0ZW5kKHQsIGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcyA9IGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJsb2FkQ2FudmFzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW52YXMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGUub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGUub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnZlbmRvcnM7XG4gICAgICAgICAgICAgICAgICAgIGUuZXZlbnRzTGlzdGVuZXJzKCksIGUuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy50bXA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWNoTGlzdGVuZXJzKCksIHRoaXMudmVuZG9ycy5kZXRhY2hMaXN0ZW5lcnMoKSwgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZS5kcmF3QW5pbUZyYW1lKSwgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzQ2xlYXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImRldGFjaExpc3RlbmVyc1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vbldpbmRvd1Jlc2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJleHRlbmRQYXJhbXNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXh0ZW5kVG1wRGVmaW5pdGlvbigpLCB0aGlzLm9uV2luZG93UmVzaXplID0gdGhpcy5vbldpbmRvd1Jlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiZXh0ZW5kVG1wRGVmaW5pdGlvblwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnRtcDtcbiAgICAgICAgICAgICAgICAgICAgZS5vYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplX3ZhbHVlOiB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVfYW5pbV9zcGVlZDogdGhpcy5wYXJhbXMucGFydGljbGVzLnNpemUuYW5pbS5zcGVlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVfc3BlZWQ6IHRoaXMucGFyYW1zLnBhcnRpY2xlcy5tb3ZlLnNwZWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZV9saW5rZWRfZGlzdGFuY2U6IHRoaXMucGFyYW1zLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5kaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVfbGlua2VkX3dpZHRoOiB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMubGluZV9saW5rZWQud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlX2dyYWJfZGlzdGFuY2U6IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuZ3JhYi5kaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVfYnViYmxlX2Rpc3RhbmNlOiB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5kaXN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVfYnViYmxlX3NpemU6IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMuYnViYmxlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlX3JlcHVsc2VfZGlzdGFuY2U6IHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMucmVwdWxzZS5kaXN0YW5jZVxuICAgICAgICAgICAgICAgICAgICB9LCBlLmNvdW50X3N2ZyA9IDAsIGUuaW1nX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInJldGluYUluaXRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5jYW52YXMsIHQgPSB0aGlzLnRtcDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMucmV0aW5hX2RldGVjdCAmJiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgPyAoZS5weHJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8sIFxuICAgICAgICAgICAgICAgICAgICB0LnJldGluYSA9ICEwLCBlLndpZHRoID0gZS5lbGVtZW50Lm9mZnNldFdpZHRoICogZS5weHJhdGlvLCBlLmhlaWdodCA9IGUuZWxlbWVudC5vZmZzZXRIZWlnaHQgKiBlLnB4cmF0aW8sIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMuc2l6ZS52YWx1ZSA9IHQub2JqLnNpemVfdmFsdWUgKiBlLnB4cmF0aW8sIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5zaXplLmFuaW0uc3BlZWQgPSB0Lm9iai5zaXplX2FuaW1fc3BlZWQgKiBlLnB4cmF0aW8sIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmFtcy5wYXJ0aWNsZXMubW92ZS5zcGVlZCA9IHQub2JqLm1vdmVfc3BlZWQgKiBlLnB4cmF0aW8sIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5saW5lX2xpbmtlZC5kaXN0YW5jZSA9IHQub2JqLmxpbmVfbGlua2VkX2Rpc3RhbmNlICogZS5weHJhdGlvLCBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5ncmFiLmRpc3RhbmNlID0gdC5vYmoubW9kZV9ncmFiX2Rpc3RhbmNlICogZS5weHJhdGlvLCBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eS5tb2Rlcy5idWJibGUuZGlzdGFuY2UgPSB0Lm9iai5tb2RlX2J1YmJsZV9kaXN0YW5jZSAqIGUucHhyYXRpbywgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5saW5lX2xpbmtlZC53aWR0aCA9IHQub2JqLmxpbmVfbGlua2VkX3dpZHRoICogZS5weHJhdGlvLCB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5Lm1vZGVzLmJ1YmJsZS5zaXplID0gdC5vYmoubW9kZV9idWJibGVfc2l6ZSAqIGUucHhyYXRpbywgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLmludGVyYWN0aXZpdHkubW9kZXMucmVwdWxzZS5kaXN0YW5jZSA9IHQub2JqLm1vZGVfcmVwdWxzZV9kaXN0YW5jZSAqIGUucHhyYXRpbykgOiAoZS5weHJhdGlvID0gMSwgXG4gICAgICAgICAgICAgICAgICAgIHQucmV0aW5hID0gITEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2FudmFzSW5pdFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgICAgICAgICAgICAgZS5jdHggPSBlLmVsZW1lbnQuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2FudmFzU2l6ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgICAgICAgICAgICAgZS5lbGVtZW50LndpZHRoID0gZS53aWR0aCwgZS5lbGVtZW50LmhlaWdodCA9IGUuaGVpZ2h0LCB0aGlzLnBhcmFtcyAmJiB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5LmV2ZW50cy5yZXNpemUgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5vbldpbmRvd1Jlc2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJjYW52YXNQYWludFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUgJiYgZS5jdHgpIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmN0eC5maWxsUmVjdCgwLCAwLCBlLndpZHRoLCBlLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2FudmFzQ2xlYXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5jYW52YXM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlICYmIGUuY3R4KSB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdHguY2xlYXJSZWN0KDAsIDAsIGUud2lkdGgsIGUuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJvbldpbmRvd1Jlc2l6ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmNhbnZhcywgdCA9IHRoaXMubWFuYWdlciwgYSA9IHRoaXMudG1wLCBpID0gdGhpcy52ZW5kb3JzO1xuICAgICAgICAgICAgICAgICAgICBlLndpZHRoID0gZS5lbGVtZW50Lm9mZnNldFdpZHRoLCBlLmhlaWdodCA9IGUuZWxlbWVudC5vZmZzZXRIZWlnaHQsIGEucmV0aW5hICYmIChlLndpZHRoICo9IGUucHhyYXRpbywgXG4gICAgICAgICAgICAgICAgICAgIGUuaGVpZ2h0ICo9IGUucHhyYXRpbyksIGUuZWxlbWVudC53aWR0aCA9IGUud2lkdGgsIGUuZWxlbWVudC5oZWlnaHQgPSBlLmhlaWdodCwgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyYW1zLnBhcnRpY2xlcy5tb3ZlLmVuYWJsZSB8fCAodC5wYXJ0aWNsZXNFbXB0eSgpLCB0LnBhcnRpY2xlc0NyZWF0ZSgpLCB0LnBhcnRpY2xlc0RyYXcoKSwgXG4gICAgICAgICAgICAgICAgICAgIGkuZGVuc2l0eUF1dG9QYXJ0aWNsZXMoKSksIGkuZGVuc2l0eUF1dG9QYXJ0aWNsZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IF0pLCBlO1xuICAgICAgICB9KCk7XG4gICAgICAgIHQuZGVmYXVsdCA9IHM7XG4gICAgfSwgZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgZnVuY3Rpb24gaShlLCB0KSB7XG4gICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGUoZSwgdCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdC5sZW5ndGg7IGErKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHRbYV07XG4gICAgICAgICAgICAgICAgICAgIGkuZW51bWVyYWJsZSA9IGkuZW51bWVyYWJsZSB8fCAhMSwgaS5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIGkgJiYgKGkud3JpdGFibGUgPSAhMCksIFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgaS5rZXksIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih0LCBhLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgJiYgZSh0LnByb3RvdHlwZSwgYSksIGkgJiYgZSh0LCBpKSwgdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBuID0gYSgwKSwgcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZSh0LCBhKSB7XG4gICAgICAgICAgICAgICAgaSh0aGlzLCBlKSwgdGhpcy5wYXJhbXMgPSB0LCB0aGlzLmxpYnJhcnkgPSBhLCB0aGlzLm9uTW91c2VNb3ZlID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpLCBcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZSA9IHRoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcyksIHRoaXMub25DbGljayA9IHRoaXMub25DbGljay5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHIoZSwgWyB7XG4gICAgICAgICAgICAgICAga2V5OiBcImV2ZW50c0xpc3RlbmVyc1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLnBhcmFtcy5pbnRlcmFjdGl2aXR5LCB0ID0gdGhpcy5saWJyYXJ5LmNhbnZhcztcbiAgICAgICAgICAgICAgICAgICAgXCJ3aW5kb3dcIiA9PSBlLmRldGVjdF9vbiA/IGUuZWwgPSB3aW5kb3cgOiBlLmVsID0gdC5lbGVtZW50LCAoZS5ldmVudHMub25ob3Zlci5lbmFibGUgfHwgZS5ldmVudHMub25jbGljay5lbmFibGUpICYmIChlLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZSksIFxuICAgICAgICAgICAgICAgICAgICBlLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIHRoaXMub25Nb3VzZUxlYXZlKSksIGUuZXZlbnRzLm9uY2xpY2suZW5hYmxlICYmIGUuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub25DbGljayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJkZXRhY2hMaXN0ZW5lcnNcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eSwgdCA9IHRoaXMubGlicmFyeS50bXA7XG4gICAgICAgICAgICAgICAgICAgIGUuZWwgJiYgKChlLmV2ZW50cy5vbmhvdmVyLmVuYWJsZSB8fCBlLmV2ZW50cy5vbmNsaWNrLmVuYWJsZSkgJiYgKGUuZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlKSwgXG4gICAgICAgICAgICAgICAgICAgIGUuZWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgdGhpcy5vbk1vdXNlTGVhdmUpKSwgZS5ldmVudHMub25jbGljay5lbmFibGUgJiYgZS5lbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5vbkNsaWNrKSksIFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodC5kcmF3QW5pbUZyYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLmxpYnJhcnksIGEgPSB0LmNhbnZhcywgaSA9IHQudG1wLCByID0gdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eSwgbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgbiA9IHIuZWwgPT0gd2luZG93ID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogZS5jbGllbnRZXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBlLm9mZnNldFggfHwgZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogZS5vZmZzZXRZIHx8IGUuY2xpZW50WVxuICAgICAgICAgICAgICAgICAgICB9LCByLm1vdXNlLnBvc194ID0gbi54LCByLm1vdXNlLnBvc195ID0gbi55LCBpLnJldGluYSAmJiAoci5tb3VzZS5wb3NfeCAqPSBhLnB4cmF0aW8sIFxuICAgICAgICAgICAgICAgICAgICByLm1vdXNlLnBvc195ICo9IGEucHhyYXRpbyksIHIuc3RhdHVzID0gXCJtb3VzZW1vdmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIm9uTW91c2VMZWF2ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5wYXJhbXMuaW50ZXJhY3Rpdml0eTtcbiAgICAgICAgICAgICAgICAgICAgdC5tb3VzZS5wb3NfeCA9IG51bGwsIHQubW91c2UucG9zX3kgPSBudWxsLCB0LnN0YXR1cyA9IFwibW91c2VsZWF2ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwib25DbGlja1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmxpYnJhcnksIHQgPSBlLm1vZGVzLCBhID0gZS50bXAsIGkgPSB0aGlzLnBhcmFtcywgciA9IGkuaW50ZXJhY3Rpdml0eSwgbiA9IGkucGFydGljbGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoci5tb3VzZS5jbGlja19wb3NfeCA9IHIubW91c2UucG9zX3gsIHIubW91c2UuY2xpY2tfcG9zX3kgPSByLm1vdXNlLnBvc195LCByLm1vdXNlLmNsaWNrX3RpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgXG4gICAgICAgICAgICAgICAgICAgIHIuZXZlbnRzLm9uY2xpY2suZW5hYmxlKSBzd2l0Y2ggKHIuZXZlbnRzLm9uY2xpY2subW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwdXNoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBuLm1vdmUuZW5hYmxlID8gdC5wdXNoUGFydGljbGVzKHIubW9kZXMucHVzaC5wYXJ0aWNsZXNfbmIsIHIubW91c2UpIDogMSA9PSByLm1vZGVzLnB1c2gucGFydGljbGVzX25iID8gdC5wdXNoUGFydGljbGVzKHIubW9kZXMucHVzaC5wYXJ0aWNsZXNfbmIsIHIubW91c2UpIDogci5tb2Rlcy5wdXNoLnBhcnRpY2xlc19uYiA+IDEgJiYgdC5wdXNoUGFydGljbGVzKHIubW9kZXMucHVzaC5wYXJ0aWNsZXNfbmIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnJlbW92ZVBhcnRpY2xlcyhyLm1vZGVzLnJlbW92ZS5wYXJ0aWNsZXNfbmIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYnViYmxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmJ1YmJsZV9jbGlja2luZyA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVwdWxzZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYS5yZXB1bHNlX2NsaWNraW5nID0gITAsIGEucmVwdWxzZV9jb3VudCA9IDAsIGEucmVwdWxzZV9maW5pc2ggPSAhMSwgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnJlcHVsc2VfY2xpY2tpbmcgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDFlMyAqIHIubW9kZXMucmVwdWxzZS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImRlbnNpdHlBdXRvUGFydGljbGVzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMubGlicmFyeSwgdCA9IGUuY2FudmFzLCBhID0gZS5tb2RlcywgaSA9IGUudG1wLCByID0gdGhpcy5wYXJhbXMucGFydGljbGVzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoci5udW1iZXIuZGVuc2l0eS5lbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdC5lbGVtZW50LndpZHRoICogdC5lbGVtZW50LmhlaWdodCAvIDFlMztcbiAgICAgICAgICAgICAgICAgICAgICAgIGkucmV0aW5hICYmIChuID0gbiAvIHQucHhyYXRpbyAqIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBuICogci5udW1iZXIudmFsdWUgLyByLm51bWJlci5kZW5zaXR5LnZhbHVlX2FyZWEsIG8gPSByLmFycmF5Lmxlbmd0aCAtIHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBvIDwgMCA/IGEucHVzaFBhcnRpY2xlcyhNYXRoLmFicyhvKSkgOiBhLnJlbW92ZVBhcnRpY2xlcyhvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2hlY2tPdmVybGFwXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB0aGlzLmxpYnJhcnksIGkgPSBhLmNhbnZhcywgciA9IGEudmVuZG9ycztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJhbXMucGFydGljbGVzLmFycmF5LmZvckVhY2goZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBhLCBzID0gZS54IC0gbi54LCBvID0gZS55IC0gbi55O1xuICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5zcXJ0KHMgKiBzICsgbyAqIG8pIDw9IGUucmFkaXVzICsgbi5yYWRpdXMgJiYgKGUueCA9IHQgPyB0LnggOiBNYXRoLnJhbmRvbSgpICogaS53aWR0aCwgXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnkgPSB0ID8gdC55IDogTWF0aC5yYW5kb20oKSAqIGkuaGVpZ2h0LCByLmNoZWNrT3ZlcmxhcChlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY3JlYXRlU3ZnSW1nXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB0aGlzLmxpYnJhcnkudG1wLCBpID0gLyMoWzAtOUEtRl17Myw2fSl8cmdiXFwoWzAtOSxdK1xcKS9naSwgciA9IHQucmVwbGFjZShpLCBmdW5jdGlvbih0LCBhLCBpLCByKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmNvbG9yLnJnYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gZS5jb2xvci5yZ2I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IFwicmdiYSggXCIgKyBzLnIgKyBcIiwgXCIgKyBzLmcgKyBcIiwgXCIgKyBzLmIgKyBcIiwgXCIgKyBlLm9wYWNpdHkgKyBcIiApXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gZS5jb2xvci5oc2w7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbiA9IFwicmdiYSggXCIgKyBvLmggKyBcIiwgXCIgKyBvLnMgKyBcIiwgXCIgKyBvLmwgKyBcIiwgXCIgKyBlLm9wYWNpdHkgKyBcIiApXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgICAgICAgICAgICAgfSksIG4gPSBuZXcgQmxvYihbIHIgXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJpbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLThcIlxuICAgICAgICAgICAgICAgICAgICB9KSwgcyA9IHdpbmRvdy5VUkwgfHwgd2luZG93LCBvID0gcy5jcmVhdGVPYmplY3RVUkwobiksIGMgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuaW1nLm9iaiA9IGMsIGUuaW1nLmxvYWRlZCA9ICEwLCBzLnJldm9rZU9iamVjdFVSTChvKSwgYS5jb3VudF9zdmcrKztcbiAgICAgICAgICAgICAgICAgICAgfSksIGMuc3JjID0gbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5saWJyYXJ5LCB0ID0gZS5jYW52YXMsIGEgPSBlLnRtcDtcbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYS5kcmF3QW5pbUZyYW1lKSwgdC5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiZHJhd1NoYXBlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUsIHQsIGEsIGksIHIsIG4pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSByICogbiwgbyA9IHIgLyBuLCBjID0gMTgwICogKG8gLSAyKSAvIG8sIGwgPSBNYXRoLlBJIC0gTWF0aC5QSSAqIGMgLyAxODA7XG4gICAgICAgICAgICAgICAgICAgIGUuc2F2ZSgpLCBlLmJlZ2luUGF0aCgpLCBlLnRyYW5zbGF0ZSh0LCBhKSwgZS5tb3ZlVG8oMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgczsgdSsrKSBlLmxpbmVUbyhpLCAwKSwgZS50cmFuc2xhdGUoaSwgMCksIGUucm90YXRlKGwpO1xuICAgICAgICAgICAgICAgICAgICBlLmZpbGwoKSwgZS5yZXN0b3JlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJleHBvcnRJbWdcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gdGhpcy5saWJyYXJ5LmNhbnZhcztcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oZS5lbGVtZW50LnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKSwgXCJfYmxhbmtcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJsb2FkSW1nXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB0aGlzLmxpYnJhcnksIGkgPSBhLnRtcCwgciA9IGEudmVuZG9ycztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkuaW1nX2Vycm9yID0gdm9pZCAwLCBcIlwiICE9IHQuc3JjKSBpZiAoXCJzdmdcIiA9PSBlKSBpZiAodC5kYXRhKSByLmNoZWNrQmVmb3JlRHJhdygpOyBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuLm9wZW4oXCJHRVRcIiwgdC5zcmMpLCBuLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0ID09IG4ucmVhZHlTdGF0ZSAmJiAoMjAwID09IG4uc3RhdHVzID8gKHQuZGF0YSA9IGUuY3VycmVudFRhcmdldC5yZXNwb25zZSwgci5jaGVja0JlZm9yZURyYXcoKSkgOiAoY29uc29sZS5sb2coXCJFcnJvciByZWFjdC1wYXJ0aWNsZXMtanMgLSBpbWFnZSBub3QgZm91bmRcIiksIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuaW1nX2Vycm9yID0gITApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIG4uc2VuZCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5pbWdfb2JqID0gcywgci5jaGVja0JlZm9yZURyYXcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBzLnNyYyA9IHQuc3JjO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY29uc29sZS5sb2coXCJFcnJvciByZWFjdC1wYXJ0aWNsZXMtanMgLSBubyBpbWFnZS5zcmNcIiksIGkuaW1nX2Vycm9yID0gITA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJkcmF3XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMubGlicmFyeSwgdCA9IGUudG1wLCBhID0gZS5tYW5hZ2VyLCBpID0gZS52ZW5kb3JzLCByID0gdGhpcy5wYXJhbXMucGFydGljbGVzO1xuICAgICAgICAgICAgICAgICAgICBcImltYWdlXCIgPT0gci5zaGFwZS50eXBlIHx8IFwiaW1hZ2VzXCIgPT0gci5zaGFwZS50eXBlID8gXCJzdmdcIiA9PSB0LmltZ190eXBlID8gdC5jb3VudF9zdmcgPj0gci5udW1iZXIudmFsdWUgPyAoYS5wYXJ0aWNsZXNEcmF3KCksIFxuICAgICAgICAgICAgICAgICAgICByLm1vdmUuZW5hYmxlID8gdC5kcmF3QW5pbUZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGkuZHJhdy5iaW5kKGkpKSA6IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHQuZHJhd0FuaW1GcmFtZSkpIDogdC5pbWdfZXJyb3IgfHwgKHQuZHJhd0FuaW1GcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShpLmRyYXcuYmluZChpKSkpIDogdm9pZCAwICE9IHQuaW1nX29iaiA/IChhLnBhcnRpY2xlc0RyYXcoKSwgXG4gICAgICAgICAgICAgICAgICAgIHIubW92ZS5lbmFibGUgPyB0LmRyYXdBbmltRnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaS5kcmF3LmJpbmQoaSkpIDogY2FuY2VsQW5pbWF0aW9uRnJhbWUodC5kcmF3QW5pbUZyYW1lKSkgOiB0LmltZ19lcnJvciB8fCAodC5kcmF3QW5pbUZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGkuZHJhdy5iaW5kKGkpKSkgOiAoYS5wYXJ0aWNsZXNEcmF3KCksIFxuICAgICAgICAgICAgICAgICAgICByLm1vdmUuZW5hYmxlID8gdC5kcmF3QW5pbUZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGkuZHJhdy5iaW5kKGkpKSA6IGNhbmNlbEFuaW1hdGlvbkZyYW1lKHQuZHJhd0FuaW1GcmFtZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2hlY2tCZWZvcmVEcmF3XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMubGlicmFyeSwgdCA9IGUudG1wLCBhID0gZS52ZW5kb3JzLCBpID0gdGhpcy5wYXJhbXMucGFydGljbGVzO1xuICAgICAgICAgICAgICAgICAgICBcImltYWdlXCIgPT0gaS5zaGFwZS50eXBlIHx8IFwiaW1hZ2VzXCIgPT0gaS5zaGFwZS50eXBlID8gKGNhbmNlbEFuaW1hdGlvbkZyYW1lKHQuY2hlY2tBbmltRnJhbWUpLCBcbiAgICAgICAgICAgICAgICAgICAgdC5pbWdfZXJyb3IgfHwgKGEuaW5pdCgpLCBhLmRyYXcoKSkpIDogKGEuaW5pdCgpLCBhLmRyYXcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJpbml0XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IHRoaXMubGlicmFyeSwgdCA9IGUubWFuYWdlciwgYSA9IGUudmVuZG9ycywgaSA9IHRoaXMucGFyYW1zLnBhcnRpY2xlcztcbiAgICAgICAgICAgICAgICAgICAgZS5yZXRpbmFJbml0KCksIGUuY2FudmFzSW5pdCgpLCBlLmNhbnZhc1NpemUoKSwgdC5wYXJ0aWNsZXNDcmVhdGUoKSwgYS5kZW5zaXR5QXV0b1BhcnRpY2xlcygpLCBcbiAgICAgICAgICAgICAgICAgICAgaS5saW5lX2xpbmtlZC5jb2xvcl9yZ2JfbGluZSA9IG4uaGV4VG9SZ2IoaS5saW5lX2xpbmtlZC5jb2xvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSB0aGlzLmxpYnJhcnksIHQgPSBlLnRtcCwgYSA9IGUudmVuZG9ycywgaSA9IHRoaXMucGFyYW1zLnBhcnRpY2xlcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiaW1hZ2VcIiA9PSBpLnNoYXBlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgKHIgPSAvXmRhdGE6aW1hZ2VcXC8oXFx3ezN9KVxcK3htbDtiYXNlNjQsKC4qKSQvLmV4ZWMoaS5zaGFwZS5pbWFnZS5zcmMpKSA/ICh0LmltZ190eXBlID0gclsxXSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBpLnNoYXBlLmltYWdlLmRhdGEgPSBhdG9iKHJbMl0pKSA6IChyID0gL14uKihcXHd7M30pJC8uZXhlYyhpLnNoYXBlLmltYWdlLnNyYykpICYmICh0LmltZ190eXBlID0gclsxXSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgYS5sb2FkSW1nKHQuaW1nX3R5cGUsIGkuc2hhcGUuaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiaW1hZ2VzXCIgPT0gaS5zaGFwZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9ICEwLCBzID0gITEsIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMsIGwgPSBpLnNoYXBlLmltYWdlc1tTeW1ib2wuaXRlcmF0b3JdKCk7ICEobiA9IChjID0gbC5uZXh0KCkpLmRvbmUpOyBuID0gITApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBjLnZhbHVlLCBwID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocCA9IC9eZGF0YTppbWFnZVxcLyhcXHd7M30pXFwreG1sO2Jhc2U2NCwoLiopJC8uZXhlYyh1LnNyYykpID8gKHQuaW1nX3R5cGUgPSBwWzFdLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdS5kYXRhID0gYXRvYihwWzJdKSkgOiAocCA9IC9eLiooXFx3ezN9KSQvLmV4ZWModS5zcmMpKSAmJiAodC5pbWdfdHlwZSA9IHBbMV0pLCBhLmxvYWRJbWcodC5pbWdfdHlwZSwgdSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPSAhMCwgbyA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFuICYmIGwucmV0dXJuICYmIGwucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMpIHRocm93IG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgYS5jaGVja0JlZm9yZURyYXcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IF0pLCBlO1xuICAgICAgICB9KCk7XG4gICAgICAgIHQuZGVmYXVsdCA9IHM7XG4gICAgfSwgZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogITBcbiAgICAgICAgfSksIHQuZ2V0RGVmYXVsdFBhcmFtcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXJ0aWNsZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogNDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZW5zaXR5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlOiAhMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZV9hcmVhOiAxMjAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCIjRkZGXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2lyY2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMDAwMDAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmJfc2lkZXM6IDVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXM6IFtdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmRvbTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGVlZDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5X21pbjogLjEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3luYzogITFcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kb206ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDQwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemVfbWluOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN5bmM6ICExXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxpbmVfbGlua2VkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IDE1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNGRkZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IC42LFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkb3c6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsdXI6IDUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwibGltZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVlZDogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5kb206ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyYWlnaHQ6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0X21vZGU6IFwiYm91bmNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuY2U6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmFjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlWDogM2UzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVk6IDNlM1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcnJheTogW11cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGludGVyYWN0aXZpdHk6IHtcbiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0X29uOiBcImNhbnZhc1wiLFxuICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uaG92ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6ICExLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiZ3JhYlwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZTogITEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJyZXB1bHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemU6ICEwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vZGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmFiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IDE4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lX2xpbmtlZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAuMzVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYnViYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IDIwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiA4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogLjRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXB1bHNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2U6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1c2g6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZXNfbmI6IDRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNsZXNfbmI6IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbW91c2U6IHt9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXRpbmFfZGV0ZWN0OiAhMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9LCBmdW5jdGlvbihlLCB0LCBhKSB7XG4gICAgICAgIFwidXNlIHN0cmljdFwiO1xuICAgICAgICB2YXIgaSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgICAgfSA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIGUuY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBlICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBlO1xuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiAhMFxuICAgICAgICB9KSwgdC5oZXhUb1JnYiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciB0ID0gL14jPyhbYS1mXFxkXSkoW2EtZlxcZF0pKFthLWZcXGRdKSQvaTtcbiAgICAgICAgICAgIGUgPSBlLnJlcGxhY2UodCwgZnVuY3Rpb24oZSwgdCwgYSwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0ICsgdCArIGEgKyBhICsgaSArIGk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBhID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGUpO1xuICAgICAgICAgICAgcmV0dXJuIGEgPyB7XG4gICAgICAgICAgICAgICAgcjogcGFyc2VJbnQoYVsxXSwgMTYpLFxuICAgICAgICAgICAgICAgIGc6IHBhcnNlSW50KGFbMl0sIDE2KSxcbiAgICAgICAgICAgICAgICBiOiBwYXJzZUludChhWzNdLCAxNilcbiAgICAgICAgICAgIH0gOiBudWxsO1xuICAgICAgICB9LCB0LmNsYW1wID0gZnVuY3Rpb24oZSwgdCwgYSkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KGUsIHQpLCBhKTtcbiAgICAgICAgfSwgdC5pc0luQXJyYXkgPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgICAgICAgICByZXR1cm4gdC5pbmRleE9mKGUpID4gLTE7XG4gICAgICAgIH0sIHQuZGVlcEV4dGVuZCA9IGZ1bmN0aW9uKGUsIGEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gYSkgYVtpXSAmJiBhW2ldLmNvbnN0cnVjdG9yICYmIGFbaV0uY29uc3RydWN0b3IgPT09IE9iamVjdCA/IChlW2ldID0gZVtpXSB8fCB7fSwgXG4gICAgICAgICAgICB0LmRlZXBFeHRlbmQoZVtpXSwgYVtpXSkpIDogZVtpXSA9IGFbaV07XG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfSwgdC5nZXRDb2xvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBhID0ge307XG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PSAodm9pZCAwID09PSBlID8gXCJ1bmRlZmluZWRcIiA6IGkoZSkpKSBpZiAoZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdmFyIHIgPSBlW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGUubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgYS5yZ2IgPSB0LmhleFRvUmdiKHIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbiA9IGUuciwgcyA9IGUuZywgbyA9IGUuYjtcbiAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBuICYmIHZvaWQgMCAhPT0gcyAmJiB2b2lkIDAgIT09IG8pIGEucmdiID0ge1xuICAgICAgICAgICAgICAgICAgICByOiBuLFxuICAgICAgICAgICAgICAgICAgICBnOiBzLFxuICAgICAgICAgICAgICAgICAgICBiOiBvXG4gICAgICAgICAgICAgICAgfTsgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjID0gZS5oLCBsID0gZS5zLCB1ID0gZS5sO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IGMgJiYgdm9pZCAwICE9PSBzICYmIHZvaWQgMCAhPT0gbyAmJiAoYS5oc2wgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoOiBjLFxuICAgICAgICAgICAgICAgICAgICAgICAgczogbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGw6IHVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIFwicmFuZG9tXCIgPT0gZSA/IGEucmdiID0ge1xuICAgICAgICAgICAgICAgIHI6IE1hdGguZmxvb3IoMjU1ICogTWF0aC5yYW5kb20oKSkgKyAxLFxuICAgICAgICAgICAgICAgIGc6IE1hdGguZmxvb3IoMjU1ICogTWF0aC5yYW5kb20oKSkgKyAxLFxuICAgICAgICAgICAgICAgIGI6IE1hdGguZmxvb3IoMjU1ICogTWF0aC5yYW5kb20oKSkgKyAxXG4gICAgICAgICAgICB9IDogXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSAmJiAoYS5yZ2IgPSB0LmhleFRvUmdiKGUpKTtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9O1xuICAgIH0gXSk7XG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../node_modules/react-particles-js/lib/particles.js\n");

/***/ })

}]);